
bit_hash"5089 N {niiresource32,3:ifindex3<,41ikfirst_hash43,4=ilhashpos_new4>,59ijdummy_int5:;cikdummy_char6;;DJilStart_Alpha7?,8:iiAlphaNum8<;cijtemp_name9<[:5ipBITMAP_NAMESIZE:6];igstrcpy;:(<0ijtemp_name<1,<:ilBitmap_Name<;);DB(==(=>igsscanf=?(>5ijtemp_name>6,>?s,A@A&A@BiiresourceA@C,A@K&A@LifindexA@M)BMAADCM)BKAAJ(ABBigsscanfABC(ABIijtemp_nameABJ,ACCs,ADH&ADIikdummy_charADJ,AED&AEEifindexAEF,AEK&AELijdummy_intAEM)BMAFHCM))ikfirst_hashBJB=BJM(BK@n)iffloorBKE(BKJ(BKKDJ)ifindexBLC*BLHilMAX_BITMAPSBLI/BMDCM);DC{DB(CLO(CM@iiAlphaNumCMA=CMJ(CMLDJ)(CNDilBitmap_NameCNE[CO@CN]-COCCM))<COICN)DB(D@E(D@FiiAlphaNumD@G=DA@(DABDJ)(DAJilBitmap_NameDAK[DBFCN]-DBICM))<DBOCN)iiAlphaNumDCK=DDCCO;ilStart_AlphaDDL=DEHieceilDEJ(DEN(DEODJ)(DFGilMAX_BITMAPSDFH/DGCCM));ikfirst_hashDGK=DHF(DHHn)iffloorDHM(DIBilStart_AlphaDIC+DIN(DIODJ)(DJHilMAX_BITMAPSDJI-DKDilStart_AlphaDKE)/DLACM*DLDiiAlphaNumDLE);}DMAilhashpos_newDME=DN@ikfirst_hashDNA;AP(EIB(EICimbitmap_tableEID[EJ@ilhashpos_newEJA].iibitimageEJNBNEKG(EKJn)ieNULLEKO)BLELE(EM@igstrcmpEMA(EMGimbitmap_tableEMH[ENDilhashpos_newENE].ihbitnameEOB,EOIilBitmap_NameEOJ)BNF@GCN)){ilhashpos_newFAACEFAL;DB(FFNilhashpos_newFFO>FGKilMAX_BITMAPSFGM)ilhashpos_newFLF=FMACN;DB(FN@ilhashpos_newFNABMFNMikfirst_hashFO@){AL-GDBCM;}GDN}GEAALilhashpos_newGNG;}GOD
ReadBitmapFromFile"7311 N {ciifilename?7[@OOCM];nifx_hotA@O,AADify_hotAAF;nifvalueABI=ABOiqBitmapOpenFailedACA;igstrcpyAHH(AHNiifilenameAHO,AIGiggetenvAIH(AINs));igstrcatAJM(AKCiifilenameAKD,AKLinLOCAL_BITPATHAKM);igstrcatAMA(AMGiifilenameAMH,AN@ihfile_inANA);ifvalueANO=AOEipXReadBitmapFileAOG(B@FihdisplayB@G,B@NiedrawBA@,BADiifilenameBAF,BANifwidthBB@,BBEigheightBBG,BBMigbitmapBBO,BCE&BCGifx_hotBCH,BCM&BCOify_hotBD@);DB(BKHifvalueBKIBMBKOiqBitmapOpenFailedBLB){igstrcpyBMN(BNDiifilenameBNE,BNMiqbitmapSearchPathBNO);igstrcatC@J(CA@iifilenameCAA,CAIs);igstrcatCBI(CBOiifilenameCC@,CCHihfile_inCCJ);ifvalueCDL=CEBipXReadBitmapFileCED(CFCihdisplayCFD,CFKiedrawCFM,CGAiifilenameCGC,CGKifwidthCGM,CHBigheightCHD,CHJigbitmapCHL,CIB&CIDifx_hotCIE,CIJ&CILify_hotCIM);}CJIDB(CNJifvalueCNKBMCOAiqBitmapOpenFailedCOD){igstrcpyDA@(DAFiifilenameDAG,DAOihBITPATHDBA);igstrcatDCC(DCIiifilenameDCJ,DDBihfile_inDDD);ifvalueDEF=DELipXReadBitmapFileDEN(DFMihdisplayDFN,DGEiedrawDGG,DGKiifilenameDGM,DHEifwidthDHG,DHLigheightDHN,DIDigbitmapDIF,DIL&DINifx_hotDIO,DJD&DJFify_hotDJG);}DK@DB(DLDifvalueDLEBMDLKirBitmapFileInvalidDLN)igprintfDNC(DNIs,EBHiifilenameEBI);DCDB(ECMifvalueECNBMEDDioBitmapNoMemoryEDG)igprintfEEI(EEOs);DCDB(EJG(EJHifvalueEJIBMEJOiqBitmapOpenFailedEKB)BLELDikDebugTraceELG)igprintfEME(EMKs,FAJihfile_inFAK);DCDB(FC@ikDebugTraceFCA)igprintfFDJ(FE@s,FGBihfile_inFGC);AL(FHLifvalueFHM);}FMK
get_bitmap"9378 N {nihhashpos73;ENnifwidth8:,8?igheight90;ihhashpos9:=:2iibit_hash:4(:<ilBitmap_Name:=);DB(;?ihhashpos<0BN<8-<;CM){DB(AAOimbitmap_tableAB@[ABLihhashposABM].iibitimageACFBMACO(ADBn)ieNULLADG){DB(AEFisReadBitmapFromFileAEG(AFIilBitmap_NameAFJ,AGEigbitmapAGF,AGL&AGNifwidthAGO,AHD&AHFigheightAHG,AHMiedrawAHO)BNAIEinBitmapSuccessAIH)AL-AJNCM;igstrcpyAKE(AKKimbitmap_tableAKL[ALHihhashposALI].ihbitnameAMB,AMIilBitmap_NameAMJ);imbitmap_tableANK[AOGihhashposAOH].iibitimageB@A=B@J*B@LigbitmapB@M;}BAIDC*BEHigbitmapBEI=BEOimbitmap_tableBF@[BFLihhashposBFM].iibitimageBGF;}BHADC{DB(BI@isReadBitmapFromFileBIA(BJCilBitmap_NameBJD,BJOigbitmapBK@,BKF&BKHifwidthBKI,BKN&BL@igheightBLA,BLGiedrawBLI)BNBLOinBitmapSuccessBMB)AL-BNHCM;DB(BONikDebugTraceBOO)igprintfC@K(CAAs,CDEilBitmap_NameCDF);}CELALihhashposCFF;}CFO
get_symbol_bitmap_entry"10444 N {nihhashpos4;;DB(59igstrcmp5:(60igSymbol61,67s)BM71CN){ihhashpos7;=82iibit_hash83(8;s);DB(9;ihhashpos9<BM:4-:7CM)AL-;2CM;DCDB(<0imbitmap_table<1[<=ihhashpos<>].iibitimage=7BM>0(>3n)ieNULL>8){igstrcpy?3(?9imbitmap_table?:[A@FihhashposA@G].ihbitnameAA@,AAGs);imbitmap_tableABE[ACAihhashposACB].iibitimageACK=ADDivXCreateBitmapFromDataADF(AEKihdisplayAEL,AFCiedrawAFD,AFHifWhiteAFI,AFNCM,AG@CM);DB(AHHikDebugTraceAHI)igprintfAIE(AIKs);}ALE}ALHDCDB(AMC(AMDigstrcmpAME(AMKigSymbolAML,ANBs)BMAO@CN)BKAOF(AOIigstrcmpAOJ(B@@igSymbolB@A,B@Gs)BMBAECN)){ihhashposBB@=BBGiibit_hashBBH(BC@s);DB(BDJihhashposBDKBMBEC-BEFCM)AL-BFACM;DCDB(BFOimbitmap_tableBG@[BGLihhashposBGM].iibitimageBHFBMBHO(BIBn)ieNULLBIG){igstrcpyBJH(BJNimbitmap_tableBJO[BKKihhashposBKL].ihbitnameBLE,BLLs);imbitmap_tableBNG[BOCihhashposBOD].iibitimageBOM=C@FivXCreateBitmapFromDataC@H(CAMihdisplayCAN,CBEiedrawCBF,CBJijLightgrayCBK,CCDCM,CCFCM);DB(CDNikDebugTraceCDO)igprintfCEK(CFAs);}CHO}CIBDCDB(CIN(CIOigstrcmpCJ@(CJFigSymbolCJG,CJMs)BMCKFCN)BKCKL(CKOigstrcmpCL@(CLFigSymbolCLG,CLMs)BMCMFCN)){ihhashposCNA=CNHiibit_hashCNI(COAs);DB(D@FihhashposD@GBMD@O-DABCM)AL-DAMCM;DCDB(DBKimbitmap_tableDBL[DCHihhashposDCI].iibitimageDDBBMDDK(DDNn)ieNULLDEC){igstrcpyDFD(DFJimbitmap_tableDFK[DGGihhashposDGH].ihbitnameDHA,DHHs);imbitmap_tableDIN[DJJihhashposDJK].iibitimageDKD=DKMivXCreateBitmapFromDataDKO(DMDihdisplayDME,DMLiedrawDMM,DNAieGrayDNB,DNFCM,DNHCM);DB(E@@ikDebugTraceE@A)igprintfE@M(EACs);}ECL}EDBDCDB(EDM(EDNigstrcmpEDO(EEEigSymbolEEF,EELs)BMEFICN)BKEFO(EGBigstrcmpEGC(EGIigSymbolEGJ,EH@s)BMEHMCN)){ihhashposEIN=EJEiibit_hashEJF(EJNs);DB(ELGihhashposELHBMEM@-EMCCM)AL-EMNCM;DCDB(ENLimbitmap_tableENM[EOIihhashposEOJ].iibitimageF@CBMF@L(F@On)ieNULLFAD){igstrcpyFBE(FBKimbitmap_tableFBL[FCHihhashposFCI].ihbitnameFDB,FDIs);imbitmap_tableFFC[FFOihhashposFG@].iibitimageFGI=FHBivXCreateBitmapFromDataFHD(FIIihdisplayFIJ,FJAiedrawFJB,FJFiiDarkgrayFJG,FJOCM,FKACM);DB(FLIikDebugTraceFLJ)igprintfFMF(FMLs);}G@I}G@ODCDB(GANigstrcmpGAO(GBEigSymbolGBF,GBLs)BMGCFCN){ihhashposGDF=GDMiibit_hashGDN(GEFs);DB(GFLihhashposGFMBMGGE-GGHCM)AL-GHCCM;DCDB(GIAimbitmap_tableGIB[GINihhashposGIO].iibitimageGJHBMGKA(GKDn)ieNULLGKI){igstrcpyGLJ(GM@imbitmap_tableGMA[GMMihhashposGMN].ihbitnameGNG,GNNs);imbitmap_tableH@E[HAAihhashposHAB].iibitimageHAK=HBDivXCreateBitmapFromDataHBF(HCKihdisplayHCL,HDCiedrawHDD,HDHifBlackHDI,HDNCM,HE@CM);DB(HFHikDebugTraceHFI)igprintfHGE(HGKs);}HJE}HJKDCALiqNotPrologPatternHKJ;imbitmap_tableIDH[IEDihhashposIEE].ijispatternIEN=IFGieTRUEIFH;ALihhashposIGF;}IGO
SetClipRegion"13217 N {DB(39iegptr3:p3>irdefault_clip_rect40){DB(<7iegptr<8p<<itvalid_update_region<>){DB(A@KikDebugTraceA@L)igprintfAAH(AANs);ikXSetRegionAEI(AFCihdisplayAFD,AFKiegptrAFLpAG@icgcAGB,AGDiegptrAGEpAGIinupdate_regionAGK);AL;}AJ@DC{DB(AMFikDebugTraceAMG)igprintfANC(ANIs);imXSetClipMaskBAK(BBGihdisplayBBH,BBOiegptrBC@pBCDicgcBCF,BCHieNoneBCI);AL;}BEE}BENDC{igXPointBILibpBJC[BJDCM];igRegionBJKilclip_regionBKB;DB(BMHikDebugTraceBMI)igprintfBOA(BOGs,CBNiegptrCCNpCDBijclip_rectCDD.ibxCDN,CDOiegptrCE@pCEDijclip_rectCEF.ibyCF@,CFAiegptrCFBpCFFijclip_rectCFH.ifwidthCGB,CGGiegptrCHGpCHKijclip_rectCHM.igheightCIG);DB(D@GiegptrD@HpD@Lijclip_rectD@N.ibxDAH<DAJCN)iegptrDAOpDBCijclip_rectDBE.ibxDBO=DCACN;DB(DDAiegptrDDBpDDFijclip_rectDDH.ibyDEB<DEDCN)iegptrDEIpDEMijclip_rectDEO.ibyDFI=DFKCN;DB(DGKiegptrDGLpDH@ijclip_rectDHB.ifwidthDHL>DIBiegptrDIDpDIHinparent_windowDIJpDJGifwidthDJI)iegptrDKIpDKMijclip_rectDKO.ifwidthDLI=DLOiegptrDMApDMEinparent_windowDMGpDNDifwidthDNF;DB(DOHiegptrDOIpDOMijclip_rectDOO.igheightE@I>EA@iegptrEABpEAFinparent_windowEAHpEBEigheightEBG)iegptrECHpECLijclip_rectECN.igheightEDH=EDOiegptrEEApEEEinparent_windowEEGpEFDigheightEFF;ibpEGA[EGBCN].ibxEGF=EGHiegptrEGJpEGNijclip_rectEH@.ibxEHJ;ibpEHO[EI@CN].ibyEID=EIFiegptrEIHpEILijclip_rectEIN.ibyEJH;ibpEJM[EJNCM].ibxEKB=EKDibpEKF[EKGCN].ibxEKK+EKMiegptrEKOpELCijclip_rectELE.ifwidthELO;ibpEMH[EMICM].ibyEMM=EMOibpENA[ENBCN].ibyENF;ibpENK[ENLCM].ibxEO@=EOBibpEOD[EOECM].ibxEOI;ibpEON[EOOCM].ibyF@C=F@EibpF@G[F@HCN].ibyF@L+F@NiegptrFA@pFADijclip_rectFAF.igheightFB@;ibpFBJ[FBKCM].ibxFBO=FCAibpFCC[FCDCN].ibxFCH;ibpFCM[FCNCM].ibyFDB=FDDibpFDF[FDGCM].ibyFDK;ilclip_regionFE@=FELioXPolygonRegionFEN(FFLibpFFM,FFNCM,FGAilWindingRuleFGC);DB(FIJikDebugTraceFIK)igprintfFKB(FKHs,FNCiegptrFOBpFOFijclip_rectFOH.ibxG@B,G@CiegptrG@DpG@Hijclip_rectG@J.ibyGAD,GAEiegptrGAFpGAJijclip_rectGAL.ifwidthGBF,GBKiegptrGCJpGCNijclip_rectGD@.igheightGDJ);DB(GFFiegptrGFGpGFKitvalid_update_regionGFM){iqXIntersectRegionGHG(GIGilclip_regionGIH,GJCiegptrGJEpGJIinupdate_regionGJK,GKHilclip_regionGKJ);DB(GNFikDebugTraceGNG)igprintfH@D(H@Js);}HDADB(HELikDebugTraceHEM)igprintfHFI(HFOs);ikXSetRegionHKA(HKKihdisplayHKL,HLCiegptrHLEpHLIicgcHLK,HLMilclip_regionHLO);ioXDestroyRegionHMO(HNMilclip_regionHNN);}I@C}I@E
StartGrafUpdate"16052 N {igwindow79p7?iegraf81p85itvalid_update_region87=9;ieTRUE9=;igwindow:7p:=iegraf:?p;3inupdate_region;5=<3igwindow<5p<;iegraf<=p=1itaccum_expose_region=3;igwindowADGpADMiegrafADOpAECitaccum_expose_regionAEE=AFIinXCreateRegionAFK(AGH);inSetClipRegionBAB(BAOigwindowBB@pBBFiegrafBBH);}BBO
ModifyGrafUpdate"16827 N {igRegion5<ilvalidregion67;ilvalidregionAIB=AINinXCreateRegionAJ@(AJM);iuXUnionRectWithRegionAKB(ALFijrectangleALG,AM@ilvalidregionAMA,AMLilvalidregionAMM);ipXSubtractRegionANL(AOKigwindowAOLpB@BiegrafB@DpB@Hinupdate_regionB@J,BAGilvalidregionBAH,BBCigwindowBBDpBBJiegrafBBLpBC@inupdate_regionBCB);ioXDestroyRegionBDC(BEAilvalidregionBEB);inSetClipRegionBFA(BFNigwindowBFOpBGEiegrafBGG);}BGN
TerminateGrafUpdate"17805 N {ilPGrafWindow19*25ibw26;AH(2?ibw30=32(34ilPGrafWindow35*41)ijwindowtab43;ibw4>BN50ieNULL53;ibw58=5:(5<ilPGrafWindow5=*69)ibw6;p6<ilnext_window6>)DB(80(81ibw82p83ietype85BM8:ifpgraf8=)BL94(97ibw98p99iegraf9;p9?itvalid_update_region:1)){ibw;<p;=iegraf;?p<3itvalid_update_region<5==9ifFALSE=;;ioXDestroyRegion>5(?3ibw?4p?5iegraf?7p?;inupdate_region?=);inSetClipRegionAGE(AHBibwAHCpAHDiegrafAHF);}AHO}AIA
get_pixel_by_name"18223 N {igXColor3;ifcolor47,4<igignore4>;DB(5;!5<igstrcmp5=(63ijcolorname64,6=s))ALikBlackPixel81(8;ihdisplay8<,93inDefaultScreen94(:1ihdisplay:2));DCDB(;6!;7igstrcmp;8(;>ijcolorname;?,<8s))ALikWhitePixel=<(>6ihdisplay>7,>>inDefaultScreen>?(?<ihdisplay?=));DCDB(AACiqXAllocNamedColorAAD(ABDihdisplayABE,ABLipDefaultColormapABM(ACLihdisplayACM,ADDinDefaultScreenADE(AEBihdisplayAEC)),AELijcolornameAEM,AFF&AFGifcolorAFH,AFM&AFNigignoreAFO)){ALifcolorBID.ifpixelBIJ;}BJEDC{igprintfBLH(BLNs,BOOijcolornameC@@);DB(CLMimXLookupColorCLN(CMJihdisplayCMK,CNBipDefaultColormapCND(COCihdisplayCOD,COKinDefaultScreenCOL(D@IihdisplayD@J)),DACijcolornameDBO,DCH&DCJifcolorDCK,DD@&DDBigignoreDDC)){DB(DEM(DENifcolorDEO.idredDFECBDFICM)+DFO(DGAifcolorDGB.ieblueDGHCBDGMCM)+DHC(DHEifcolorDHF.ifgreenDHLCBDIBCM)BPDIHCM)ALikWhitePixelDKG(DLAihdisplayDLB,DLIinDefaultScreenDLJ(DMGihdisplayDMH));}DNKALikBlackPixelDOL(E@FihdisplayE@G,E@NinDefaultScreenE@O(EALihdisplayEAM));}EBL}EBN
AllocCustomColor"20119 N {c*34iihexcolor35=3=s;iiColormap4:iecmap53=5:ipDefaultColormap5<(6;ihdisplay6<,73inDefaultScreen74(81ihdisplay82));igXColor8>iicolordef96,9>igignore:0;ihsprintf::(;1iihexcolor;2,;:s,<3ihcolorid<4);ilXParseColorACM(ADHihdisplayADI,AE@iecmapAEA,AEEiihexcolorAEF,AEN&AEOiicolordefAF@);DB(AFOilXAllocColorAG@(AGKihdisplayAGL,AHCiecmapAHD,AHH&AHIiicolordefAHJ))ALiicolordefAIN.ifpixelAJG;DC{igprintfALH(ALNs,B@BiihexcolorB@C);DB(BLO(BM@iicolordefBMA.idredBMJCBBMNCM)+BND(BNFiicolordefBNG.ieblueBO@CBBOECM)+BOK(BOMiicolordefBON.ifgreenC@GCBC@MCM)BPCACCM)ALikWhitePixelCBN(CCHihdisplayCCI,CD@inDefaultScreenCDA(CDNihdisplayCDO));ALikBlackPixelCFC(CFMihdisplayCFN,CGEinDefaultScreenCGF(CHCihdisplayCHD));}CI@}CIB
InitGrafWindow"21251 N {ibw26p27iegraf29=2>(30ioGrafContextPtr31)iiXtMalloc41(49CG(50ioGrafContextRec51));ibw64p65iegraf67p6;itaccum_expose_region6==81inXCreateRegion83(90);ibw95p96iegraf98p9<itvalid_update_region9>=;2ifFALSE;4;ibw;<p;=iegraf;?p<3inparent_window<5==3ibw=5;ibw=:p=;iegraf==p>1idtop>3=>7ibw>9p>:iegraf><p?0ieleft?2=?7CN;ibw?>p@OOiegrafA@ApA@EiifontInfoA@G.ienameAA@=AAEilXtNewStringAAG(ABBs);ibwACCpACDiegrafACFpACJiifontInfoACL.iesizeADE=ADJinsys_font_infoADL.iesizeAEJ;ibwAFApAFBiegrafAFDpAFHiifontInfoAFJ.igweightAGC=AGJinsys_font_infoAGL.igweightAHJ;ibwAICpAIDiegrafAIFpAIJiifontInfoAIL.ifslantAJE=AJKinsys_font_infoAJM.ifslantAKK;ibwALCpALDiegrafALFpALJiefontALL=AMAiisys_fontAMC;}AMM
PrologColors"22014 N {ioGrafContextPtr23ibg32=33ibw34p35iegraf37;nibi44,45ipdefault_hashpos46;ibg5:p5;iedraw5==62ininitialPixmap64;ibg74p75icgc77=7:ijXCreateGC7<(85ihdisplay86,8=ibg8>p8?iedraw91,95(96n)ieNULL9;,9?ieNULL:0);DB(;8ikDebugTrace;9)igprintf<5(<;s);ibg>7p>8ijprev_gptr>:=?4ieNULL?6;ibgACEpACFirdefault_clip_rectACH=ADJieTRUEADL;imXSetClipMaskAEF(AFBihdisplayAFC,AFJibgAFKpAFLicgcAFN,AG@ieNoneAGA);ioXSetForegroundALK(AMIihdisplayAMJ,ANAibgANBpANCicgcANE,ANGibgANHpANIijforeColorANK=AODikBlackPixelAOE(AOOihdisplayB@@,B@GinDefaultScreenB@H(BAEihdisplayBAF)));ioXSetBackgroundBBC(BCAihdisplayBCB,BCIibgBCJpBCKicgcBCM,BCOibgBD@pBDAijbackColorBDC=BDLikWhitePixelBDM(BEGihdisplayBEH,BEOinDefaultScreenBF@(BFMihdisplayBFN)));ibgBGLpBGMinforeColorNameBGO=BHMilXtNewStringBHO(BIJs);ibgBJFpBJGinbackColorNameBJI=BKGilXtNewStringBKI(BLDs);ipdefault_hashposCGF=CHEixget_symbol_bitmap_entryCHG(CINs,CJFibgCJGpCJHiedrawCJJ);ibgCKBpCKCijfill_modeCKE=CKNihpentypeCKO;ibgCLIpCLJiipen_modeCLL=CMDiecopyCME;ibgCMLpCMMilpenpatindexCMO=CNJipdefault_hashposCNK;ibgCOMpCONimuserpatindexD@@=D@Lipdefault_hashposD@M;ibgDAOpDB@imbackpatindexDBB=DBNixget_symbol_bitmap_entryDBO(DDFs,DDNibgDDOpDE@iedrawDEB);ibgDEJpDEKiqcurrent_functionDEM=DFMigGXcopyDFN;ibgDGGpDGHiitextModeDGJ=DHBigGXcopyDHC;ibgDHLpDHMihpensizeDHO=DIGCN;isXSetLineAttributesDIM(DJOihdisplayDK@,DKGibgDKHpDKIicgcDKK,DKMCN,DKOijLineSolidDL@,DLIihCapButtDLJ,DMAijJoinMiterDMB);inXSetFillStyleDMO(DNLihdisplayDNM,DODibgDOEpDOFicgcDOH,DOJisFillOpaqueStippledDOK);ilXSetStippleEAA(EALihdisplayEAM,EBDibgEBEpEBFicgcEBH,EBJimbitmap_tableEBK[ECGipdefault_hashposECH].iibitimageEDI);DB(EEHibgEEIpEEJiefontEEL)iiXSetFontEFD(EFLihdisplayEFM,EGDibgEGEpEGFicgcEGH,EGJibgEGKpEGLiefontEGNpEHBidfidEHD);inXSetPlaneMaskEIN(EJKihdisplayEJL,EKCibgEKDpEKEicgcEKG,EKICM);}ELE
TerminateGrafWindow"23679 N {ioXDestroyRegion2=(3;ibw3<p3=iegraf3?p43itaccum_expose_region45);DB(5?ibw60p61iegraf63p67itvalid_update_region69)ioXDestroyRegion80(8>ibw8?p90iegraf92p96inupdate_region98);ihXFreeGC::(;1ihdisplay;2,;9ibw;:p;;iegraf;=p<1icgc<3);DB(<<ibw<=p<>iegraf=0p=4inforeColorName=6)igXtFree>7(>=ibw>>p>?iegraf?1p?5inforeColorName?7);DB(A@KibwA@LpA@MiegrafA@OpAACinbackColorNameAAE)igXtFreeABF(ABLibwABMpABNiegrafAC@pACDinbackColorNameACF);igXtFreeADG(ADMibwADNpADOiegrafAEApAEEiifontInfoAEG.ienameAF@);igXtFreeAFH(AFN(AFOc*AGE)ibwAGGpAGHiegrafAGJ);ibwAHBpAHCiegrafAHE=AHJieNULLAHL;}AIB
clone_GC"24547 N {ioGrafContextPtr26ijnew_gcptr36,3?ijsrc_gcptr41;ilBNRP_result50igresult60;DB(7;ikDebugTrace7<)igprintf88(8>s);DB(::idtcb:;p:>ihnumargs;0BN;8CM)ALifFALSE<5;DB(=3inBNRP_getValue=4(>1idtcb>2p>5ieargs>7[>;CM],>>&>?igresult?0)BN?8imBNRP_integer?;)ALifFALSEAA@;ijsrc_gcptrAAK=ABF(ABHioGrafContextPtrABI)igresultACH.ieivalACO;ijnew_gcptrADN=AEIilclone_of_GCAEK(AFFijsrc_gcptrAFG);ALikBNRP_unifyAH@(AHJidtcbAHK,AHNidtcbAI@pAICieargsAIE[AIICM],AILiqBNRP_makeIntegerAIN(AJNidtcbAJO,AKB(AKCEAn)ijnew_gcptrAKM));}ALJ
clone_of_GC"25023 N {ioGrafContextPtr37ijnew_gcptr46=51(53ioGrafContextPtr54)iiXtMalloc63(6;CG(72ioGrafContextRec73));*89ijnew_gcptr8:=94*96ijsrc_gcptr97;DB(=1ijsrc_gcptr=2p=;inforeColorName==)ijnew_gcptr>>p?7inforeColorName?9=A@GilXtNewStringA@I(AADijsrc_gcptrAAEpAANinforeColorNameAB@);DB(ACDijsrc_gcptrACEpACNinbackColorNameAD@)ijnew_gcptrAEApAEJinbackColorNameAEL=AFJilXtNewStringAFL(AGGijsrc_gcptrAGHpAHAinbackColorNameAHC);ijnew_gcptrAIDpAIMiifontInfoAIO.ienameAJH=AJMilXtNewStringAJO(AKJijsrc_gcptrAKKpALDiifontInfoALF.ienameALO);ijnew_gcptrAMGpAN@ijprev_gptrANB=ANLijsrc_gcptrANN;ALijnew_gcptrB@B;}B@M
SetFunction"25556 N {ijXGCValuesDKAiigcValuesDKO;ENEAijplaneMaskDMK=DNEijAllPlanesDNG;AM(EAJiifunctionEAK){ACigGXcopyEC@:ACihGXclearEDA:ACigGXnoopEEC:ijplaneMaskEFC=EFMijAllPlanesEFO;AB;ACioGXcopyInvertedEIC:ACiiGXinvertEJL:imXGetGCValuesEKN(ELJihdisplayELK,EMBicgcEMD,EMFimGCForegroundEMH|ENEimGCBackgroundENG,EOC&EOEiigcValuesEOF);ijplaneMaskF@I=FACiigcValuesFAE.ikforegroundFAN^FBIiigcValuesFBK.ikbackgroundFCD;AB;AE:imXGetGCValuesFJB(FJNihdisplayFJO,FKFicgcFKH,FKJimGCForegroundFKL|FLIimGCBackgroundFLK,FMG&FMIiigcValuesFMJ);ijplaneMaskFNM=FOGiigcValuesFOI.ikforegroundG@B^G@MiigcValuesG@O.ikbackgroundGAH;}GBHinXSetPlaneMaskGBO(GCLihdisplayGCM,GDDicgcGDF,GDHijplaneMaskGDJ);imXSetFunctionGEO(GFKihdisplayGFL,GGCicgcGGE,GGGiifunctionGGI);}GHD
switch_fill_mode"27489 N {AM(35iegptr36p3:ijfill_mode3<){ACifclear4?:{ilSetFunctionAHJ(AIEiegptrAIFpAIJicgcAIL,AINigGXcopyAIO);ilXSetStippleAMC(AMNihdisplayAMO,ANFiegptrANGpANKicgcANM,ANOimbitmap_tableAO@[AOLiegptrAOMpB@AimbackpatindexB@C].iibitimageBAA);AL;}BBMACighollowBCE:ACihpentypeBDD:{ilXSetStippleBEF(BFAihdisplayBFB,BFIiegptrBFJpBFNicgcBG@,BGBimbitmap_tableBGC[BGOiegptrBH@pBHDilpenpatindexBHF].iibitimageBIC);AB;}BJNACiiusertypeBKF:{ilXSetStippleBLI(BMDihdisplayBME,BMLiegptrBMMpBNAicgcBNC,BNEimbitmap_tableBNF[BOBiegptrBOCpBOGimuserpatindexBOI].iibitimageC@G);AB;}CBBACiginvertCBJ:{ilSetFunctionDB@(DBKiegptrDBLpDC@icgcDCB,DCDiiGXinvertDCE);ilXSetStippleDND(DNOihdisplayDO@,DOGiegptrDOHpDOLicgcDON,E@@imbitmap_tableE@B[E@Nixget_symbol_bitmap_entryE@O(EBFs,EBNiegptrEBOpECCiedrawECE)].iibitimageECL);AL;}EEG}EEJilSetFunctionEOO(F@JiegptrF@KpF@OicgcFAA,FACiegptrFADpFAHiqcurrent_functionFAJ);AL;}FCJ
switch_pen_mode"29091 N {AM(34iegptr35p39iipen_mode3;){ACiecopy4=:iegptr54p58iqcurrent_function5:=6;igGXcopy6=;AB;ACihnotcopy82:iegptr8;p8?iqcurrent_function91=:2ioGXcopyInverted:4;AB;ACicor<1:iegptr<6p<:iqcurrent_function<<===(=?iegptr>0p>4ijbackColor>6)?ifGXand?3:ieGXor?;;AB;ACifnotorA@N:iegptrAAFpAAJiqcurrent_functionAAL=ABM(ABOiegptrAC@pACDijbackColorACF)?inGXandInvertedADC:imGXorInvertedAEC;AB;ACidxorAFN:iegptrAGDpAGHiqcurrent_functionAGJ=AHK(AHMiegptrAHNpAIBijbackColorAID)?ihGXequivAJA:ifGXxorAJK;AB;ACignotxorAKO:iegptrALGpALKiqcurrent_functionALM=AMN(AN@iegptrANApANEijbackColorANG)?ifGXxorAOD:ihGXequivAOL;AB;ACijpen_clearBAB:iegptrBAMpBBAiqcurrent_functionBBC=BCD(BCFiegptrBCGpBCKijbackColorBCM)?imGXorInvertedBDJ:inGXandInvertedBEI;AB;ACiinotclearBGE:iegptrBGOpBHCiqcurrent_functionBHE=BIF(BIHiegptrBIIpBIMijbackColorBIO)?ieGXorBJL:ifGXandBKC;AB;}BLBilSetFunctionBLE(BM@iegptrBMApBMEicgcBMG,BMIiegptrBMKpBMOiqcurrent_functionBNA);}BOD
free_GC"29965 N {ioGrafContextPtr29ibg39,3:icpg3;;ilBNRP_result43igresult53;DB(6>ikDebugTrace6?)igprintf7;(81s);DB(9?idtcb:0p:3ihnumargs:5BN:=CM)ALifFALSE;:;DB(<8inBNRP_getValue<9(=6idtcb=7p=:ieargs=<[>0CM],>3&>4igresult>5)BN>=imBNRP_integer?0)ALifFALSEA@E;ibgAA@=AAA(AABioGrafContextPtrAAC)igresultABB.ieivalABI;icpgAC@=ACCibgACEpACFijprev_gptrACH;DB(ADG(ADHibgADIpADJiefontADL)BLAEB(AEEicpgAEFpAEHiefontAEJ)BLAF@(AFCibgAFDpAFEiefontAFGpAFKidfidAFMBNAGAicpgAGDpAGFiefontAGHpAGLidfidAGN))iiXSetFontAHF(AHNihdisplayAHO,AIFicpgAIGpAIIicgcAIK,AIMicpgAINpAJ@iefontAJBpAJFidfidAJH);DB(AKBibgAKCpAKDijforeColorAKFBNAL@icpgALCpALEijforeColorALG)ioXSetForegroundAMD(ANBihdisplayANC,ANJicpgANKpANMicgcANO,AOAicpgAOBpAODijforeColorAOF);DB(B@FibgB@GpB@HijbackColorB@JBNBADicpgBAGpBAIijbackColorBAK)ioXSetBackgroundBBH(BCFihdisplayBCG,BCNicpgBCOpBDAicgcBDC,BDEicpgBDFpBDHijbackColorBDJ);DB(BEJibgBEKpBELihpensizeBENBNBFFicpgBFIpBFKihpensizeBFM)isXSetLineAttributesBGK(BHMihdisplayBHN,BIEicpgBIFpBIHicgcBIJ,BILicpgBIMpBIOihpensizeBJA,BJHijLineSolidBJI,BKBihCapButtBKC,BKJijJoinMiterBKK);inSetClipRegionBLH(BMEicpgBMF);iqswitch_fill_modeBML(BNLicpgBNM);ipswitch_pen_modeBOC(C@BicpgC@C);DB(C@LibgC@MpC@NinforeColorNameCA@)igXtFreeCBA(CBGibgCBHpCBIinforeColorNameCBK);DB(CCOibgCD@pCDAinbackColorNameCDC)igXtFreeCED(CEJibgCEKpCELinbackColorNameCEN);igXtFreeCFO(CGEibgCGFpCGGiifontInfoCGI.ienameCHB);igXtFreeCHM(CIC(CIDc*CIJ)ibgCIL);ALieTRUECJL;}CKB
multi_lineabs"31272 N {ilBNRP_result29igresult39;ijBNRP_term45ienext55;iiBNRP_tag5?igintype6<;ioGrafContextPtr78ibg88;igXPoint8?ifparms9;[:0irMAX_LINE_SEGMENTS:1];nifcount<9=<>CN;DB(=:idtcb=;p=>ihnumargs>0BN>8CM)ALifFALSE?5;DB(A@CinBNRP_getValueA@D(AAAidtcbAABpAAEieargsAAG[AAKCM],AAN&AAOigresultAB@)BNABHimBNRP_integerABK)ALifFALSEAD@;ibgADK=ADL(ADMioGrafContextPtrADN)igresultAEM.ieivalAFD;DB(AGAinBNRP_getValueAGB(AGOidtcbAH@pAHCieargsAHE[AHICM],AHL&AHNigresultAHO)BNAIGijBNRP_listAIJ)ALifFALSEAJL;ienextAOL=B@@igresultB@A.ietermB@H.iffirstB@M;AP(BAK(BALigintypeBAM=BBCirBNRP_getNextValueBBD(BCE&BCFienextBCG,BCK&BCLigresultBCM))BNBDFiiBNRP_endBDI){DB(BEJigintypeBEKBNBFBimBNRP_integerBFE)ALifFALSEBGJ;ifparmsBHC[BHHifcountBHI].ibxBI@=BIAigresultBIB.ieivalBII-BINibgBJ@pBJAieleftBJC;DB(BJOirBNRP_getNextValueBK@(BLA&BLBienextBLC,BLG&BLHigresultBLI)BNBMAimBNRP_integerBMD)ALifFALSEBNI;ifparmsBOB[BOGifcountBOHCEBOM].ibyC@A=C@BigresultC@C.ieivalC@J-C@OibgCAApCABidtopCAD;}CAJikXDrawLinesCGA(CGKihdisplayCGL,CHCibgCHDpCHEiedrawCHG,CHKibgCHLpCHMicgcCHO,CIAifparmsCIB,CIGifcountCIH,CIMipCoordModeOriginCIN);ALieTRUECKK;}CLA
polygon"32471 N {ilBNRP_result23igresult33;ijBNRP_term3?ienext4?;iiBNRP_tag59igintype66;ioGrafContextPtr72ibg82;igXPoint89ifparms95[9:irMAX_LINE_SEGMENTS9;];nifcount<3=<8CN;DB(=4idtcb=5p=8ihnumargs=:BN>2CM)ALifFALSE>?;DB(?=inBNRP_getValue?>(A@KidtcbA@LpA@OieargsAAA[AAECM],AAH&AAIigresultAAJ)BNABBimBNRP_integerABE)ALifFALSEACJ;ibgADE=ADF(ADGioGrafContextPtrADH)igresultAEG.ieivalAEN;DB(AFKinBNRP_getValueAFL(AGIidtcbAGJpAGMieargsAGO[AHCCM],AHF&AHHigresultAHI)BNAIAijBNRP_listAID)ALifFALSEAJF;ienextAOF=AOJigresultAOK.ietermB@B.iffirstB@G;AP(BAE(BAFigintypeBAG=BAMirBNRP_getNextValueBAN(BBO&BC@ienextBCA,BCE&BCFigresultBCG))BNBD@iiBNRP_endBDC){DB(BEDigintypeBEEBNBELimBNRP_integerBEO)ALifFALSEBGD;ifparmsBGM[BHBifcountBHC].ibxBHJ=BHKigresultBHL.ieivalBIC-BIHibgBIJpBIKieleftBIM;DB(BJIirBNRP_getNextValueBJJ(BKK&BKLienextBKM,BLA&BLBigresultBLC)BNBLKimBNRP_integerBLN)ALifFALSEBNC;ifparmsBNL[BOAifcountBOBCEBOG].ibyBOK=BOLigresultBOM.ieivalC@D-C@IibgC@KpC@LidtopC@N;}CADDB(CFKibgCFLpCFMijfill_modeCFOBMCGIighollowCGL){ifparmsCHH[CHMifcountCHNCECIC]=CIGifparmsCII[CINCN];ikXDrawLinesCJE(CJOihdisplayCK@,CKGibgCKHpCKIiedrawCKK,CKOibgCL@pCLAicgcCLC,CLEifparmsCLF,CLKifcountCLL,CMAipCoordModeOriginCMB);}CNEDCimXFillPolygonCNO(COKihdisplayCOL,D@CibgD@DpD@EiedrawD@G,D@KibgD@LpD@MicgcD@O,DAAifparmsDAB,DAGifcountDAH,DAMihComplexDAN,DBEipCoordModeOriginDBF);ALieTRUEDDC;}DDI
forecolor"33859 N {ilBNRP_result2;igresult3;;ioGrafContextPtr47ibg57;iiBNRP_tag5;igintype68;DB(78idtcb79p7<ihnumargs7>BN86CM)ALifFALSE93;DB(:1inBNRP_getValue:2(:?idtcb;0p;3ieargs;5[;9CM],;<&;=igresult;>)BN<6imBNRP_integer<9)ALifFALSE=>;ibg>9=>:(>;ioGrafContextPtr><)igresult?;.ieivalA@B;igintypeA@L=AABinBNRP_getValueAAC(AB@idtcbABApABDieargsABF[ABJCM],ABM&ABNigresultABO);DB(ACOigintypeAD@BMADFilBNRP_symbolADH){DB(AELibgAEMpAENinforeColorNameAF@BLAFN!AGAigstrcmpAGB(AGHibgAGIpAGJinforeColorNameAGL,AHIigresultAHJ.idsymAIA.iesvalAIE))ALieTRUEAJF;ioXSetForegroundAJN(AKLihdisplayAKM,ALDibgALEpALFicgcALH,ALJibgALKpALLijforeColorALN=AMGirget_pixel_by_nameAMH(ANIigresultANJ.idsymAOA.iesvalAOE));ibgAOOpB@@inforeColorNameB@B=BA@ijXtReallocBAB(BAKibgBALpBAMinforeColorNameBAO,BBLigstrlenBBN(BCDigresultBCE.idsymBCL.iesvalBD@)+BDECM);igstrcpyBDL(BEBibgBECpBEDinforeColorNameBEF,BFCigresultBFD.idsymBFK.iesvalBFO);}BGJDCDB(BHHigintypeBHIBMBHOimBNRP_integerBIA){ioXSetForegroundBJC(BKAihdisplayBKB,BKIibgBKJpBKKicgcBKM,BKOibgBL@pBLAijforeColorBLC=BLLiqAllocCustomColorBLM(BMM(BMNn)igresultBNC.ieivalBNJ));igXtFreeBOD(BOJibgBOKpBOLinforeColorNameBON);ibgCA@pCAAinforeColorNameCAC=CBAieNULLCBC;}CBJDCALifFALSECCI;DB(CHGibgCHHpCHIijfill_modeCHKBMCIEiginvertCIH)ilSetFunctionCJH(CKCibgCKDpCKEicgcCKG,CKIiiGXinvertCKK);DCilSetFunctionCMG(CNBibgCNCpCNDicgcCNF,CNHibgCNJpCNKiqcurrent_functionCNM);ALieTRUED@L;}DAB
backcolor"35045 N {ilBNRP_result2;igresult3;;ioGrafContextPtr47ibg57;iiBNRP_tag5>igintype6;;ENEAikprev_color82;DB(96idtcb97p9:ihnumargs9<BN:4CM)ALifFALSE;1;DB(;?inBNRP_getValue<0(<=idtcb<>p=1ieargs=3[=7CM],=:&=;igresult=<)BN>4imBNRP_integer>7)ALifFALSE?<;ibgA@G=A@H(A@IioGrafContextPtrA@J)igresultAAI.ieivalAB@;ikprev_colorABG=ACBibgACDpACEijbackColorACG;igintypeADF=ADLinBNRP_getValueADM(AEJidtcbAEKpAENieargsAF@[AFDCM],AFG&AFHigresultAFI);DB(AGIigintypeAGJBMAH@ilBNRP_symbolAHB){DB(AIFibgAIGpAIHinbackColorNameAIJBLAJH!AJKigstrcmpAJL(AKBibgAKCpAKDinbackColorNameAKF,ALCigresultALD.idsymALK.iesvalALO))ALieTRUEAN@;ioXSetBackgroundANH(AOFihdisplayAOG,AONibgAOOpB@@icgcB@B,B@DibgB@EpB@FijbackColorB@H=BAAirget_pixel_by_nameBAB(BBCigresultBBD.idsymBBK.iesvalBBO));ibgBCIpBCJinbackColorNameBCL=BDJijXtReallocBDL(BEEibgBEFpBEGinbackColorNameBEI,BFFigstrlenBFH(BFNigresultBFO.idsymBGF.iesvalBGJ)+BGOCM);igstrcpyBHF(BHLibgBHMpBHNinbackColorNameBI@,BIMigresultBIN.idsymBJE.iesvalBJI);}BKDDCDB(BLBigintypeBLCBMBLIimBNRP_integerBLK){ioXSetBackgroundBMM(BNKihdisplayBNL,BOCibgBODpBOEicgcBOG,BOIibgBOJpBOKijbackColorBOM=C@FiqAllocCustomColorC@G(CAG(CAHn)igresultCAM.ieivalCBD));igXtFreeCBN(CCDibgCCEpCCFinbackColorNameCCH);ibgCDJpCDKinbackColorNameCDM=CEKieNULLCEM;}CFDDCALifFALSECGC;DB(CGNibgCGOpCH@ijbackColorCHBBNCHLikprev_colorCHO)ipswitch_pen_modeCIM(CJLibgCJM);DB(COGibgCOHpCOIijfill_modeCOKBMD@EiginvertD@H)ilSetFunctionDAH(DBCibgDBDpDBEicgcDBG,DBIiiGXinvertDBK);DCilSetFunctionDDG(DEBibgDECpDEDicgcDEF,DEHibgDEJpDEKiqcurrent_functionDEM);ALieTRUEDGL;}DHB
penmode"36361 N {ilBNRP_result29igresult39;ioGrafContextPtr45iegptr55;c*6?iemode70;DKijpen_modes7<iinew_mode86;DB(98idtcb99p9<ihnumargs9>BN:6CM)ALifFALSE;3;DB(<1inBNRP_getValue<2(<?idtcb=0p=3ieargs=5[=9CM],=<&==igresult=>)BN>6imBNRP_integer>9)ALifFALSE?>;iegptrA@I=A@M(A@NioGrafContextPtrA@O)igresultAAN.ieivalABE;DB(ACBinBNRP_getValueACC(AD@idtcbADApADDieargsADF[ADJCM],ADM&ADNigresultADO)BNAEGilBNRP_symbolAEJ)ALifFALSEAFN;iemodeAGI=AGMigresultAGN.idsymAHE.iesvalAHI;DB(AICigstrcmpAID(AIJiemodeAIK,AIOs)BMAJHCN)iinew_modeAK@=AKIiecopyAKK;DCDB(ALJigstrcmpALK(AMAiemodeAMB,AMFs)BMANBCN)iinew_modeANJ=AOCihnotcopyAOE;DCDB(B@GigstrcmpB@H(B@NiemodeB@O,BACs)BMBAJCN)iinew_modeBBB=BBKicorBBM;DCDB(BCJigstrcmpBCK(BDAiemodeBDB,BDFs)BMBE@CN)iinew_modeBEH=BFAifnotorBFC;DCDB(BGCigstrcmpBGD(BGJiemodeBGK,BGOs)BMBHGCN)iinew_modeBHO=BIHidxorBIJ;DCDB(BJHigstrcmpBJI(BJOiemodeBK@,BKDs)BMBKOCN)iinew_modeBLG=BM@ignotxorBMB;DCDB(BNCigstrcmpBND(BNJiemodeBNK,BNOs)BMBOICN)iinew_modeC@A=C@Jijpen_clearC@L;DCDB(CB@igstrcmpCBA(CBGiemodeCBH,CBLs)BMCCICN)iinew_modeCDA=CDJiinotclearCDL;DCALifFALSECFC;DB(CFOiinew_modeCG@BNCGIiegptrCGLpCH@iipen_modeCHB){iegptrCI@pCIDiipen_modeCIF=CIOiinew_modeCJA;ipswitch_pen_modeCJM(CKLiegptrCKM);}CLEALieTRUECMB;}CMH
pensize"37497 N {ilBNRP_result29igresult39;ioGrafContextPtr45iegptr55;DB(63idtcb64p67ihnumargs69BN71CM)ALifFALSE7>;DB(8<inBNRP_getValue8=(9:idtcb9;p9>ieargs:0[:4CM],:7&:8igresult:9)BN;1imBNRP_integer;4)ALifFALSE<9;iegptr=4==8(=9ioGrafContextPtr=:)igresult>9.ieival?0;DB(?=inBNRP_getValue?>(A@KidtcbA@LpA@OieargsAAA[AAECM],AAH&AAIigresultAAJ)BNABBimBNRP_integerABE)ALifFALSEACJ;isXSetLineAttributesADE(AEGihdisplayAEH,AEOiegptrAF@pAFDicgcAFF,AFHiegptrAFIpAFMihpensizeAFO=AGF(AGGENn)igresultAHE.ieivalAHL,AI@ijLineSolidAIA,AIJihCapButtAIK,AJBijJoinMiterAJC);ALieTRUEAKO;}ALE
get_pattern_index"38152 N {ilBNRP_result4<igresult5<;iiBNRP_tag68igintype75;niiresource8:,92ifindex94,99ihhashpos9;;igPixmap:8ilpen_pattern;3;cihpatfile<=[=4ipBITMAP_NAMESIZE=5];DB(>?idtcb?0p?3ihnumargs?5>?=CM)AL-A@ICM;igintypeAAB=AAHinBNRP_getValueAAI(ABFidtcbABGpABJieargsABL[AC@CM],ACC&ACDigresultACE);DB(ADBigintypeADCBMADIilBNRP_symbolADK){ihstrncpyAIJ(AJAihpatfileAJB,AJIigresultAJK.idsymAKB.iesvalAKF,AKJipBITMAP_NAMESIZEAKL);ihhashposAM@=AMGixget_symbol_bitmap_entryAMH(ANOihpatfileAO@,AOGiedrawAOI);DB(BG@ihhashposBGABMBGIiqNotPrologPatternBGL)ihhashposBIA=BIHikget_bitmapBII(BJCigresultBJD.idsymBJK.iesvalBJO,BKC&BKDilpen_patternBKE,BL@iedrawBLB);DB(BLNihhashposBLOBMBMG-BMJCM)ilXFreePixmapBNA(BNLihdisplayBNM,BODilpen_patternBOE);DB(C@HihhashposC@I<CAACN)AL-CAMCM;}CBBDCDB(CC@igintypeCCABMCCHimBNRP_integerCCK){iiresourceCIH=CJ@igresultCJA.ieivalCJH;DB(CKHinBNRP_getValueCKI(CLFidtcbCLGpCLJieargsCLL[CM@CM],CMC&CMDigresultCME)BNCMMimBNRP_integerCN@)AL-COECM;ifindexCOK=D@@igresultD@A.ieivalD@H;ihsprintfDAB(DAIihpatfileDAJ,DBAs,DCBiiresourceDCC,DCKifindexDCL);ihhashposDDH=DE@ikget_bitmapDEB(DELihpatfileDEM,DFD&DFEilpen_patternDFF,DGAiedrawDGB);DB(DGNihhashposDGOBMDHG-DHJCM)ilXFreePixmapDIA(DILihdisplayDIM,DJDilpen_patternDJE);DB(DKHihhashposDKI<DLACN)AL-DLMCM;}DMEDCAL-DNDCM;ALihhashposDOC;}DOL
penpat"39806 N {ilBNRP_result28igresult38;ioGrafContextPtr44iegptr54;nihhashpos6>;DB(7?inBNRP_getValue80(8=idtcb8>p91ieargs93[97CM],9:&9;igresult9<)BN:4imBNRP_integer:7)ALifFALSE;<;iegptr<7=<;(<<ioGrafContextPtr<=)igresult=<.ieival>3;ihhashpos>>=?5irget_pattern_index?6(A@GidtcbA@H,A@KiegptrA@MpAAAiedrawAAC);DB(ABBihhashposABCBMABK-ABNCM)ALifFALSEACI;imbitmap_tableAGO[AHKihhashposAHL].ijispatternAIE=AINieTRUEAIO;DB(AJIiegptrAJJpAJNilpenpatindexAK@BMAKLihhashposAKO)ALieTRUEALO;iegptrAMIpAMMilpenpatindexAMO=ANJihhashposANK;DB(BGF(BGGiegptrBGHpBGLijfill_modeBGNBMBHHihpentypeBHK)BKBIE(BIHiegptrBIIpBIMijfill_modeBIOBMBJIighollowBJL)){ilXSetStippleBKI(BLDihdisplayBLE,BLLiegptrBLMpBMAicgcBMC,BMEimbitmap_tableBMF[BNBihhashposBNC].iibitimageBNL);}BOHALieTRUEC@E;}C@K
backpat"40976 N {ilBNRP_result29igresult39;ioGrafContextPtr45iegptr55;nihhashpos6?;DB(80inBNRP_getValue81(8>idtcb8?p92ieargs94[98CM],9;&9<igresult9=)BN:5imBNRP_integer:8)ALifFALSE;=;iegptr<8=<<(<=ioGrafContextPtr<>)igresult==.ieival>4;ihhashpos>?=?6irget_pattern_index?7(A@HidtcbA@I,A@LiegptrA@NpAABiedrawAAD);DB(ABCihhashposABDBMABL-ABOCM)ALifFALSEACJ;imbitmap_tableADF[AEBihhashposAEC].ijispatternAEL=AFEieTRUEAFF;DB(AG@iegptrAGApAGEimbackpatindexAGGBMAHDihhashposAHG)ALieTRUEAIG;iegptrAJApAJEimbackpatindexAJG=AKCihhashposAKD;DB(ALDiegptrALEpALIijfill_modeALKBMAMEifclearAMH){ilXSetStippleANC(ANNihdisplayANO,AOFiegptrAOGpAOKicgcAOM,AOOimbitmap_tableB@@[B@LihhashposB@M].iibitimageBAF);}BBBALieTRUEBBO;}BCE
userpat"41932 N {ilBNRP_result29igresult39;ioGrafContextPtr45iegptr55;nihhashpos6?;DB(80inBNRP_getValue81(8>idtcb8?p92ieargs94[98CM],9;&9<igresult9=)BN:5imBNRP_integer:8)ALifFALSE;=;iegptr<8=<<(<=ioGrafContextPtr<>)igresult==.ieival>4;ihhashpos>?=?6irget_pattern_index?7(A@HidtcbA@I,A@LiegptrA@NpAABiedrawAAD);DB(ABCihhashposABDBMABL-ABOCM)ALifFALSEACJ;imbitmap_tableADF[AEBihhashposAEC].ijispatternAEL=AFEieTRUEAFF;DB(AG@iegptrAGApAGEimuserpatindexAGGBMAHDihhashposAHG)ALieTRUEAIG;iegptrAJApAJEimuserpatindexAJG=AKCihhashposAKD;DB(ALDiegptrALEpALIijfill_modeALKBMAMEiiusertypeAMH){ilXSetStippleANF(AOAihdisplayAOB,AOIiegptrAOJpAONicgcB@@,B@Bimbitmap_tableB@C[B@OihhashposBA@].iibitimageBAI);}BBEALieTRUEBCB;}BCH
fillpat"43481 N {ilBNRP_result29igresult39;ioGrafContextPtr45iegptr55;c*6?ilFillPattern70;ninnew_fill_mode85;DB(9<idtcb9=p:0ihnumargs:2BN::CM)ALifFALSE;7;DB(<5inBNRP_getValue<6(=3idtcb=4p=7ieargs=9[==CM],>0&>1igresult>2)BN>:imBNRP_integer>=)ALifFALSEA@B;iegptrA@M=AAA(AABioGrafContextPtrAAC)igresultABB.ieivalABI;DB(ACFinBNRP_getValueACG(ADDidtcbADEpADHieargsADJ[ADNCM],AEA&AEBigresultAEC)BNAEKilBNRP_symbolAEN)ALifFALSEAGB;ilFillPatternAGM=AHHigresultAHI.idsymAI@.iesvalAID;DB(AJBigstrcmpAJC(AJIilFillPatternAJJ,AKEs)BMAL@CN)innew_fill_modeALH=AMFifclearAMH;DCDB(ANLigstrcmpANM(AOCilFillPatternAOD,AOOs)BMB@KCN)innew_fill_modeBAC=BBAighollowBBC;DCDB(BCHigstrcmpBCI(BCOilFillPatternBD@,BDKs)BMBEHCN)innew_fill_modeBF@=BFNihpentypeBG@;DCDB(BHFigstrcmpBHG(BHMilFillPatternBHN,BIIs)BMBJGCN)innew_fill_modeBJO=BKMiiusertypeBKO;DCDB(BMFigstrcmpBMG(BMMilFillPatternBMN,BNIs)BMBOECN)innew_fill_modeBOM=C@KiginvertC@M;DCALifFALSECBB;DB(CBNinnew_fill_modeCBOBMCCMiegptrCD@pCDDijfill_modeCDF)ALieTRUECEH;iegptrCF@pCFDijfill_modeCFF=CFOinnew_fill_modeCG@;iqswitch_fill_modeCHA(CIAiegptrCIB);ALieTRUECJA;}CJG
inqforecolor"44722 N {ilBNRP_result2>igresult3>;ioGrafContextPtr4:iegptr5:;ijXGCValues64igvalues74;igXColor80ifcolor8;;DB(9:idtcb9;p9>ihnumargs:0BN:8CM)ALifFALSE;5;DB(<3inBNRP_getValue<4(=1idtcb=2p=5ieargs=7[=;CM],=>&=?igresult>0)BN>8imBNRP_integer>;)ALifFALSEA@@;iegptrA@K=A@O(AA@ioGrafContextPtrAAA)igresultAB@.ieivalABG;DB(ACBiegptrACCpACGinforeColorNameACIBMADGieNULLADJ){imXGetGCValuesAEG(AFCihdisplayAFD,AFKiegptrAFLpAG@icgcAGB,AGDimGCForegroundAGE,AHA&AHBigvaluesAHC);ifcolorAHN.ifpixelAID=AIIigvaluesAIJ.ikforegroundAJA;ilXQueryColorAJO(AKJihdisplayAKK,ALBipDefaultColormapALC(AMBihdisplayAMC,AMJinDefaultScreenAMK(ANHihdisplayANI)),AOB&AOCifcolorAOD);ALikBNRP_unifyB@E(B@OidtcbBA@,BACidtcbBAEpBAHieargsBAJ[BANCM],BBAiqBNRP_makeIntegerBBJ(BCJidtcbBCK,BCN(BD@(BDAifcolorBDB.idredBDH&BDLCM)CABEECM)|BEJ(BFIifcolorBFJ.ifgreenBG@&BGFCM)|BH@(BHBifcolorBHC.ieblueBHICBBHNCM)));}BIHDCALikBNRP_unifyBJI(BKCidtcbBKD,BKGidtcbBKIpBKLieargsBKN[BLBCM],BLEipBNRP_makeSymbolBLG(BMFidtcbBMG,BMJiegptrBMKpBMOinforeColorNameBNA));}BOB
inqbackcolor"45631 N {ilBNRP_result2>igresult3>;ioGrafContextPtr4:iegptr5:;ijXGCValues64igvalues74;igXColor80ifcolor8;;DB(9:idtcb9;p9>ihnumargs:0BN:8CM)ALifFALSE;5;DB(<3inBNRP_getValue<4(=1idtcb=2p=5ieargs=7[=;CM],=>&=?igresult>0)BN>8imBNRP_integer>;)ALifFALSEA@@;iegptrA@K=A@O(AA@ioGrafContextPtrAAA)igresultAB@.ieivalABG;DB(ACBiegptrACCpACGinbackColorNameACIBMADGieNULLADJ){imXGetGCValuesAEG(AFCihdisplayAFD,AFKiegptrAFLpAG@icgcAGB,AGDimGCBackgroundAGE,AHA&AHBigvaluesAHC);ifcolorAHN.ifpixelAID=AIIigvaluesAIJ.ikbackgroundAJA;ilXQueryColorAJO(AKJihdisplayAKK,ALBipDefaultColormapALC(AMBihdisplayAMC,AMJinDefaultScreenAMK(ANHihdisplayANI)),AOB&AOCifcolorAOD);ALikBNRP_unifyB@E(B@OidtcbBA@,BACidtcbBAEpBAHieargsBAJ[BANCM],BBAiqBNRP_makeIntegerBBJ(BCJidtcbBCK,BCN(BD@(BDAifcolorBDB.idredBDH&BDLCM)CABEECM)|BEJ(BFIifcolorBFJ.ifgreenBG@&BGFCM)|BH@(BHBifcolorBHC.ieblueBHICBBHNCM)));}BIHDCALikBNRP_unifyBJI(BKCidtcbBKD,BKGidtcbBKIpBKLieargsBKN[BLBCM],BLEipBNRP_makeSymbolBLG(BMFidtcbBMG,BMJiegptrBMKpBMOinbackColorNameBNA));}BOB
inqpenmode"46553 N {ilBNRP_result2<igresult3<;ioGrafContextPtr48iegptr58;c*72iggcmode73;DB(83idtcb84p87ihnumargs89BN91CM)ALifFALSE9>;DB(:<inBNRP_getValue:=(;:idtcb;;p;>ieargs<0[<4CM],<7&<8igresult<9)BN=1imBNRP_integer=4)ALifFALSE>9;iegptr?4=?8(?9ioGrafContextPtr?:)igresultA@I.ieivalAA@;AM(ABAiegptrABBpABFiipen_modeABH){ACiecopyACK:iggcmodeADB=ADHs;AB;ACihnotcopyAFF:iggcmodeAFO=AGEs;AB;ACicorAIE:iggcmodeAIJ=AJ@s;AB;ACifnotorAKL:iggcmodeALD=ALJs;AB;ACidxorANI:iggcmodeANO=AOEs;AB;ACignotxorBAB:iggcmodeBAJ=BB@s;AB;ACijpen_clearBCO:iggcmodeBDJ=BE@s;AB;ACiinotclearBFO:iggcmodeBGI=BGOs;AB;AE:igprintfBKE(BKLs);ALifFALSEC@H;}CA@ALikBNRP_unifyCAN(CBHidtcbCBI,CBLidtcbCBNpCCAieargsCCC[CCGCM],CCJipBNRP_makeSymbolCCK(CDJidtcbCDK,CDNiggcmodeCDO));}CEI
inqpensize"47573 N {ilBNRP_result2<igresult3<;ioGrafContextPtr48iegptr58;DB(66idtcb67p6:ihnumargs6<BN74CM)ALifFALSE81;DB(8?inBNRP_getValue90(9=idtcb9>p:1ieargs:3[:7CM],::&:;igresult:<)BN;4imBNRP_integer;7)ALifFALSE<<;iegptr=7==;(=<ioGrafContextPtr==)igresult><.ieival?3;ALikBNRP_unifyA@E(A@OidtcbAA@,AACidtcbAAEpAAHieargsAAJ[AANCM],ABAiqBNRP_makeIntegerABB(ACBidtcbACC,ACF(ACGn)iegptrACLpAD@ihpensizeADB));}ADM
prolog_symbol"48051 N {DB(2=igstrcmp2>(34ihPattern35,3<s)BM4<CN)ALs;DCDB(70igstrcmp71(77ihPattern78,7?s)BM8?CN)ALs;DCDB(;2igstrcmp;3(;9ihPattern;:,<1s)BM=1CN)ALs;DCDB(>?igstrcmp?0(?6ihPattern?7,?>s)BMA@NCN)ALs;DCDB(AC@igstrcmpACA(ACGihPatternACH,ACOs)BMADOCN)ALs;DCALihPatternAGB;}AGK
parse_bitmap_name"48449 N {niiresource5?,67icid69;c*7:ilnew_patname7;;cijtemp_name8?[98ipBITMAP_NAMESIZE99];ilnew_patname;0=;<inprolog_symbol;>(<;ilBitmap_Name<<);igstrcpy=;(>1ijtemp_name>2,>;ilBitmap_Name><);DB(A@A(A@BigsscanfA@C(A@Iijtemp_nameA@J,AACs,ABF&ABHiiresourceABI,ACA&ACCicidACD)BMACHCM)BLACN(ADAigstrcmpADB(ADHilBitmap_NameADI,AEDilnew_patnameAEF)BMAFCCN)){DB(ALEidtcbALFpALIihnumargsALKBNAMCCM)ALifFALSEAN@;AL(AO@ikBNRP_unifyAOA(AOKidtcbAOL,AOOidtcbB@ApB@DieargsB@F[B@JCM],B@MiqBNRP_makeIntegerB@N(BANidtcbBAO,BBB(BBCn)iiresourceBBH))&BCC(BCNikBNRP_unifyBCO(BDIidtcbBDJ,BDMidtcbBDOpBEBieargsBED[BEHCM],BEKiqBNRP_makeIntegerBEL(BFLidtcbBFM,BG@(BGAn)icidBGF))));}BHBDC{DB(BNDidtcbBNEpBNHihnumargsBNJBNBOBCM)ALifFALSEBOO;ALikBNRP_unifyCA@(CAJidtcbCAK,CANidtcbCB@pCBCieargsCBE[CBICM],CBLipBNRP_makeSymbolCBM(CCLidtcbCCM,CD@ilnew_patnameCDA));}CED}CEF
inqpenpat"49756 N {ilBNRP_result2;igresult3;;ioGrafContextPtr47iegptr57;DB(65inBNRP_getValue66(73idtcb74p77ieargs79[7=CM],80&81igresult82)BN8:imBNRP_integer8=)ALifFALSE:2;iegptr:==;1(;2ioGrafContextPtr;3)igresult<2.ieival<9;ALirparse_bitmap_name=:(>;idtcb><,>?imbitmap_table?1[?=iegptr?>pA@BilpenpatindexA@D].ihbitnameAAA);}AAK
inqbackpat"50520 N {ilBNRP_result2<igresult3<;ioGrafContextPtr48iegptr58;DB(66inBNRP_getValue67(74idtcb75p78ieargs7:[7>CM],81&82igresult83)BN8;imBNRP_integer8>)ALifFALSE:3;iegptr:>=;2(;3ioGrafContextPtr;4)igresult<3.ieival<:;ALirparse_bitmap_name=;(><idtcb>=,?0imbitmap_table?2[?>iegptr@OOpA@CimbackpatindexA@E].ihbitnameAAC);}AAM
inquserpat"51286 N {ilBNRP_result2<igresult3<;ioGrafContextPtr48iegptr58;DB(66inBNRP_getValue67(74idtcb75p78ieargs7:[7>CM],81&82igresult83)BN8;imBNRP_integer8>)ALifFALSE:3;iegptr:>=;2(;3ioGrafContextPtr;4)igresult<3.ieival<:;ALirparse_bitmap_name=;(><idtcb>=,?0imbitmap_table?2[?>iegptr@OOpA@CimuserpatindexA@E].ihbitnameAAC);}AAM
inqfillpat"51727 N {ilBNRP_result2<igresult3<;ioGrafContextPtr48iegptr58;c*6;ihfillpat6<;DB(7=idtcb7>p81ihnumargs83BN8;CM)ALifFALSE98;DB(:6inBNRP_getValue:7(;4idtcb;5p;8ieargs;:[;>CM],<1&<2igresult<3)BN<;imBNRP_integer<>)ALifFALSE>3;iegptr>>=?2(?3ioGrafContextPtr?4)igresultA@C.ieivalA@J;AM(AALiegptrAAMpABAijfill_modeABC){ACighollowACG:ihfillpatAD@=ADGs;AB;ACihpentypeAF@:ihfillpatAFJ=AGAs;AB;ACiiusertypeAHK:ihfillpatAIF=AIMs;AB;ACifclearAKH:ihfillpatAL@=ALGs;AB;ACiginvertAMO:ihfillpatANH=ANOs;AB;AE:ALifFALSEBAE;}BB@ALikBNRP_unifyBBM(BCGidtcbBCH,BCKidtcbBCMpBD@ieargsBDB[BDFCM],BDIipBNRP_makeSymbolBDJ(BEIidtcbBEJ,BEMihfillpatBEN));}BFI
lineabs"52615 N {ioGrafContextPtr1?ibg2>;ilBNRP_result35ibp42;nicx14:,4<icy14=,4?icx250,52icy253;DB(5<idtcb5=p60ihnumargs62BN6:CM)ALifFALSE77;DB(83inBNRP_getValue84(91idtcb92p95ieargs97[9;CM],9>&:0ibp:1)BN:4imBNRP_integer:7)ALifFALSE;<;ibg<4=<6(<8ioGrafContextPtr<9)ibp=8.ieival=:;DB(>5inBNRP_getValue>6(?3idtcb?4p?7ieargs?9[?=CM],A@@&A@BibpA@C)BNA@FimBNRP_integerA@I)ALifFALSEAAN;icx1ABF=ABI(ABKn)ibpACA.ieivalACC;DB(ACNinBNRP_getValueACO(ADLidtcbADMpAE@ieargsAEB[AEFCM],AEI&AEKibpAEL)BNAEOimBNRP_integerAFB)ALifFALSEAGG;icy1AGO=AHB(AHDn)ibpAHJ.ieivalAHL;DB(AIGinBNRP_getValueAIH(AJEidtcbAJFpAJIieargsAJK[AJOCM],AKB&AKDibpAKE)BNAKHimBNRP_integerAKK)ALifFALSEAM@;icx2AMH=AMK(AMMn)ibpANC.ieivalANE;DB(AO@inBNRP_getValueAOA(AONidtcbAOOpB@BieargsB@D[B@HCM],B@K&B@MibpB@N)BNBAAimBNRP_integerBAD)ALifFALSEBBI;icy2BCA=BCD(BCFn)ibpBCL.ieivalBCN;ijXDrawLineBDJ(BECihdisplayBED,BEKibgBELpBEMiedrawBEO,BFCibgBFDpBFEicgcBFG,BFIicx1BFJ-BFLibgBFMpBFNieleftBG@,BGDicy1BGE-BGGibgBGHpBGIidtopBGK,BGNicx2BH@-BHBibgBHCpBHDieleftBHF,BHJicy2BHK-BHMibgBHNpBHOidtopBIA);ALieTRUEBIO;}BJE
rectabs"53445 N {ioGrafContextPtr1?ibg2>;ilBNRP_result35ibp42;nicx14:,4<icy14=,4?icx250,52icy253,55igheight56,5<ifwidth5=;DB(69idtcb6:p6=ihnumargs6?BN77CM)ALifFALSE84;DB(90inBNRP_getValue91(9>idtcb9?p:2ieargs:4[:8CM],:;&:=ibp:>)BN;1imBNRP_integer;4)ALifFALSE<9;ibg=1==3(=5ioGrafContextPtr=6)ibp>5.ieival>7;DB(?2inBNRP_getValue?3(A@@idtcbA@ApA@DieargsA@F[A@JCM],A@M&A@OibpAA@)BNAACimBNRP_integerAAF)ALifFALSEABK;icx1ACC=ACF(ACHn)ibpACN.ieivalAD@;DB(ADKinBNRP_getValueADL(AEIidtcbAEJpAEMieargsAEO[AFCCM],AFF&AFHibpAFI)BNAFLimBNRP_integerAFO)ALifFALSEAHD;icy1AHL=AHO(AIAn)ibpAIG.ieivalAII;DB(AJDinBNRP_getValueAJE(AKBidtcbAKCpAKFieargsAKH[AKLCM],AKO&ALAibpALB)BNALEimBNRP_integerALH)ALifFALSEAMM;icx2ANE=ANH(ANJn)ibpAO@.ieivalAOB;DB(AOMinBNRP_getValueAON(B@KidtcbB@LpB@OieargsBAA[BAECM],BAH&BAJibpBAK)BNBANimBNRP_integerBBA)ALifFALSEBCF;icy2BCN=BDA(BDCn)ibpBDI.ieivalBDK;igheightBEE=BELicy2BEN-BF@icy1BFA-BFCCM;ifwidthBFH=BFOicx2BGA-BGCicx1BGD-BGFCM;DB(BGNigheightBGO<BHECN)igheightBHI=BI@CN;DB(BIIifwidthBIJ<BIOCN)ifwidthBJD=BJJCN;DB(BKDibgBKEpBKFijfill_modeBKHBMBLBighollowBLE)ioXDrawRectangleBM@(BMNihdisplayBMO,BNFibgBNGpBNHiedrawBNJ,BNNibgBNOpBO@icgcBOB,BODicx1BOE-BOGibgBOHpBOIieleftBOK,BOOicy1C@@-C@BibgC@CpC@DidtopC@F,C@IifwidthC@J,C@OigheightCA@);DCioXFillRectangleCBB(CC@ihdisplayCCA,CCHibgCCIpCCJiedrawCCL,CD@ibgCDApCDBicgcCDD,CDFicx1CDG-CDIibgCDJpCDKieleftCDM,CEAicy1CEB-CEDibgCEEpCEFidtopCEH,CEKifwidthCEL+CFACM,CFCigheightCFD+CFJCM);ALieTRUECGH;}CGN
arcabs"54549 N {ilBNRP_result28igresult38;ioGrafContextPtr44ibg54;nicx164,66icy167,69icx26:,6<icy26=,6?ikstartangle70,7:iiarcangle7;,83ifwidth84,89igheight8:;DB(9:idtcb9;p9>ihnumargs:0BN:8CM)ALifFALSE;5;DB(<3inBNRP_getValue<4(=1idtcb=2p=5ieargs=7[=;CM],=>&=?igresult>0)BN>8imBNRP_integer>;)ALifFALSEA@@;ibgA@K=A@L(A@MioGrafContextPtrA@N)igresultAAM.ieivalABD;DB(ACBinBNRP_getValueACC(AD@idtcbADApADDieargsADF[ADJCM],ADM&ADNigresultADO)BNAEGimBNRP_integerAEJ)ALifFALSEAFO;icx1AGJ=AGL(AGMn)igresultAHB.ieivalAHI;DB(AIFinBNRP_getValueAIG(AJDidtcbAJEpAJHieargsAJJ[AJNCM],AKA&AKBigresultAKC)BNAKKimBNRP_integerAKN)ALifFALSEAMC;icy1AMN=AN@(ANAn)igresultANF.ieivalANM;DB(AOJinBNRP_getValueAOK(B@HidtcbB@IpB@LieargsB@N[BABCM],BAE&BAFigresultBAG)BNBAOimBNRP_integerBBB)ALifFALSEBCG;icx2BDB=BDD(BDEn)igresultBDJ.ieivalBEA;DB(BENinBNRP_getValueBEO(BFLidtcbBFMpBG@ieargsBGB[BGFCM],BGI&BGJigresultBGK)BNBHCimBNRP_integerBHF)ALifFALSEBIK;icy2BJF=BJH(BJIn)igresultBJN.ieivalBKE;DB(BLBinBNRP_getValueBLC(BM@idtcbBMApBMDieargsBMF[BMJCM],BMM&BMNigresultBMO)BNBNGimBNRP_integerBNJ)ALifFALSEBOO;ikstartangleC@J=CAD(CAEn)(CAJigresultCAK.ieivalCBB*CBFCM);DB(CCCinBNRP_getValueCCD(CDAidtcbCDBpCDEieargsCDG[CDKCM],CDN&CDOigresultCE@)BNCEHimBNRP_integerCEK)ALifFALSECG@;iiarcangleCGK=CHC(CHDn)(CHIigresultCHJ.ieivalCIA*CIECM);ifwidthCIM=CJCicx2CJE-CJGicx1CJH;igheightCJM=CKDicy2CKF-CKHicy1CKI;DB(CLEibgCLFpCLGijfill_modeCLIBMCMCighollowCMF)iiXDrawArcCND(CNLihdisplayCNM,CODibgCOEpCOFiedrawCOH,COLibgCOMpCONicgcD@@,D@Bicx1D@C-D@EibgD@FpD@GieleftD@I,D@Micy1D@N-DA@ibgDAApDABidtopDAD,DAGifwidthDAH-DAMCM,DAOigheightDB@-DBFCM,DBHikstartangleDBI,DCCiiarcangleDCD);DCiiXFillArcDDO(DEGihdisplayDEH,DEOibgDF@pDFAiedrawDFC,DFGibgDFHpDFIicgcDFK,DFMicx1DFN-DG@ibgDGApDGBieleftDGD,DGHicy1DGI-DGKibgDGLpDGMidtopDGO,DHBifwidthDHC,DHHigheightDHI,DHOikstartangleDI@,DIJiiarcangleDIK);ALieTRUEDKA;}DKG
ovalabs"55912 N {ilBNRP_result29igresult39;ioGrafContextPtr45ibg55;nicx16<,6>icy16?,71icx272,74icy275,77ibw78,79ibh7:;DB(85idtcb86p89ihnumargs8;BN93CM)ALifFALSE:0;DB(:>inBNRP_getValue:?(;<idtcb;=p<0ieargs<2[<6CM],<9&<:igresult<;)BN=3imBNRP_integer=6)ALifFALSE>;;ibg?6=?7(?8ioGrafContextPtr?9)igresultA@H.ieivalA@O;DB(AALinBNRP_getValueAAM(ABJidtcbABKpABNieargsAC@[ACDCM],ACG&ACHigresultACI)BNADAimBNRP_integerADD)ALifFALSEAEI;icx1AFD=AFF(AFGn)igresultAFL.ieivalAGC;DB(AH@inBNRP_getValueAHA(AHNidtcbAHOpAIBieargsAID[AIHCM],AIK&AILigresultAIM)BNAJEimBNRP_integerAJH)ALifFALSEAKM;icy1ALH=ALJ(ALKn)igresultAM@.ieivalAMG;DB(ANDinBNRP_getValueANE(AOBidtcbAOCpAOFieargsAOH[AOLCM],AOO&B@@igresultB@A)BNB@IimBNRP_integerB@L)ALifFALSEBBA;icx2BBL=BBN(BBOn)igresultBCD.ieivalBCK;DB(BDHinBNRP_getValueBDI(BEFidtcbBEGpBEJieargsBEL[BF@CM],BFC&BFDigresultBFE)BNBFMimBNRP_integerBG@)ALifFALSEBHE;icy2BI@=BIB(BICn)igresultBIH.ieivalBIO;ibwBJG=BJIicx2BJK-BJMicx1BJN;ibhBKC=BKEicy2BKG-BKIicy1BKJ;DB(BLFibgBLGpBLHijfill_modeBLJBMBMDighollowBMG)iiXDrawArcBND(BNLihdisplayBNM,BODibgBOEpBOFiedrawBOH,BOLibgBOMpBONicgcC@@,C@Bicx1C@C-C@EibgC@FpC@GieleftC@I,C@Micy1C@N-CA@ibgCAApCABidtopCAD,CAGibwCAH-CAICM,CAKibhCAL-CAMCM,CAO(CB@n)CN,CBF(CBGn)(CBLCM*CC@CM));DCiiXFillArcCDF(CDNihdisplayCDO,CEFibgCEGpCEHiedrawCEJ,CENibgCEOpCF@icgcCFB,CFDicx1CFE-CFGibgCFHpCFIieleftCFK-CFOCM,CGAicy1CGB-CGDibgCGEpCGFidtopCGH-CGKCM,CGMibwCGN+CGOCM,CHAibhCHB+CHCCM,CHE(CHFn)CN,CHL(CHMn)(CIBCM*CIFCM));ALieTRUECJH;}CJN
XmuDrawRoundedRectangle"57011 N {ieXArc91iearcs96[9:CM];DB(:4icew:5*:7CM>::ibw:<)icew;4=;7CN;DB(<0iceh<1*<3CM><6ibh<8)iceh=0==3CN;iearcs=:[=>CN].ibx>2=>4ibx>6;iearcs>:[>>CN].iby?2=?4iby?6;iearcs?:[?>CN].ifwidthA@B=A@HicewA@J*A@LCM;iearcsAAA[AAECN].igheightAAI=AB@icehABB*ABDCM;iearcsABI[ABMCN].igangle1ACA=ACHCM*ACMCM;iearcsADC[ADGCN].igangle2ADK=AEB-AEDCM*AEGCM;iearcsAEN[AFBCM].ibxAFF=AFHibxAFJ+AFLicewAFN;iearcsAGC[AGGCM].ibyAGK=AGMibyAGO;iearcsAHC[AHGCM].ifwidthAHK=AIAibwAIC-AIEicewAIG*AIICM;iearcsAIN[AJBCM].igheightAJF=AJMCN;iearcsAKC[AKGCM].igangle1AKK=ALBCM*ALGCM;iearcsALM[AMACM].igangle2AME=AML-AMNCM*ANBCM;iearcsANI[ANMCM].ibxAOA=AOCibxAOE+AOGibwAOI-AOKicewAOM*AOOCM;iearcsB@D[B@HCM].ibyB@L=B@NibyBA@;iearcsBAD[BAHCM].ifwidthBAL=BBBicewBBD*BBFCM;iearcsBBK[BBOCM].igheightBCC=BCJicehBCL*BCNCM;iearcsBDC[BDGCM].igangle1BDK=BEBCM*BEFCM;iearcsBEL[BF@CM].igangle2BFD=BFK-BFMCM*BG@CM;iearcsBGG[BGKCM].ibxBGO=BHAibxBHC+BHEibwBHG;iearcsBHK[BHOCM].ibyBIC=BIEibyBIG+BIIicehBIK;iearcsBJ@[BJDCM].ifwidthBJH=BJNCN;iearcsBKD[BKHCM].igheightBKL=BLCibhBLE-BLGicehBLI*BLKCM;iearcsBM@[BMDCM].igangle1BMH=BMOCM*BNDCM;iearcsBNK[BNOCM].igangle2BOC=BOJ-BOLCM*C@@CM;iearcsC@G[C@KCM].ibxC@O=CAAibxCAC+CAEibwCAG-CAIicewCAK*CAMCM;iearcsCBB[CBFCM].ibyCBJ=CBLibyCBN+CC@ibhCCB-CCDicehCCF*CCHCM;iearcsCCM[CDACM].ifwidthCDE=CDKicewCDM*CE@CM;iearcsCEF[CEJCM].igheightCEN=CFEicehCFG*CFJCM;iearcsCG@[CGDCM].igangle1CGH=CGOCN;iearcsCHE[CHICM].igangle2CHM=CID-CIFCM*CIICM;iearcsCJ@[CJDCM].ibxCJH=CJJibxCJL+CJNicewCK@;iearcsCKE[CKICM].ibyCKM=CKOibyCLA+CLCibhCLE;iearcsCLI[CLMCM].ifwidthCMA=CMGibwCMI-CMKicewCMM*CMOCM;iearcsCND[CNHCM].igheightCNL=COCCN;iearcsCOI[COMCM].igangle1D@A=D@HCN;iearcsD@N[DABCM].igangle2DAF=DAM-DAOCM*DBCCM;iearcsDBJ[DBNCM].ibxDCB=DCDibxDCF;iearcsDCJ[DCNCM].ibyDDB=DDDibyDDF+DDHibhDDJ-DDLicehDDN*DE@CM;iearcsDEE[DEICM].ifwidthDEM=DFCicewDFE*DFGCM;iearcsDFL[DG@CM].igheightDGD=DGKicehDGM*DGOCM;iearcsDHD[DHHCM].igangle1DHL=DICCM*DIHCM;iearcsDIN[DJBCM].igangle2DJF=DJM-DJOCM*DKBCM;iearcsDKI[DKMCM].ibxDLA=DLCibxDLE;iearcsDLI[DLMCM].ibyDMA=DMCibyDME+DMGicehDMI;iearcsDMN[DNBCM].ifwidthDNF=DNLCN;iearcsDOB[DOFCM].igheightDOJ=E@AibhE@C-E@EicehE@G*E@ICM;iearcsE@N[EABCM].igangle1EAF=EAMCM*EBBCM;iearcsEBH[EBLCM].igangle2EC@=ECG-ECICM*ECMCM;ijXDrawArcsEDC(EDMiddpyEDN,EEAiedrawEEC,EEGicgcEEI,EEKiearcsEEM,EFACM);}EFG
XmuFillRoundedRectangle"58402 N {ieXArc91iearcs96[9:CM];ikXRectangle:0ifrects:;[;0CM];ijXGCValues;6ievals<0;imXGetGCValues<8(=4iddpy=5,=8icgc=:,=<ijGCArcMode=>,>7&>9ievals>:);DB(?5ievals?6.iiarc_mode?;BNA@DilArcPieSliceA@G)ilXSetArcModeAAI(ABDiddpyABE,ABHicgcABJ,ABLilArcPieSliceABN);DB(ADAicewADB*ADDCM>ADGibwADI)icewAEA=AEDCN;DB(AEMicehAEN*AF@CM>AFCibhAFE)icehAFM=AG@CN;iearcsAGG[AGKCN].ibxAGO=AHAibxAHC;iearcsAHG[AHKCN].ibyAHO=AIAibyAIC;iearcsAIG[AIKCN].ifwidthAIO=AJEicewAJG*AJICM;iearcsAJN[AKBCN].igheightAKF=AKMicehAKO*ALACM;iearcsALF[ALJCN].igangle1ALN=AMECM*AMJCM;iearcsAN@[ANDCN].igangle2ANH=ANO-AOACM*AODCM;iearcsAOK[AOOCM].ibxB@C=B@EibxB@G+B@IibwB@K-B@MicewB@O*BAACM;iearcsBAF[BAJCM].ibyBAN=BB@ibyBBB;iearcsBBF[BBJCM].ifwidthBBN=BCDicewBCF*BCHCM;iearcsBCM[BDACM].igheightBDE=BDLicehBDN*BE@CM;iearcsBEE[BEICM].igangle1BEM=BFDCM*BFHCM;iearcsBFN[BGBCM].igangle2BGF=BGM-BGOCM*BHBCM;iearcsBHI[BHMCM].ibxBIA=BICibxBIE+BIGibwBII-BIKicewBIM*BIOCM;iearcsBJD[BJHCM].ibyBJL=BJNibyBK@+BKBibhBKD-BKFicehBKH*BKJCM;iearcsBKO[BLCCM].ifwidthBLG=BLMicewBLO*BMACM;iearcsBMF[BMJCM].igheightBMN=BNEicehBNG*BNICM;iearcsBNN[BOBCM].igangle1BOF=BOMCN;iearcsC@C[C@GCM].igangle2C@K=CAB-CADCM*CAGCM;iearcsCAN[CBBCM].ibxCBF=CBHibxCBJ;iearcsCBN[CCBCM].ibyCCF=CCHibyCCJ+CCLibhCCN-CD@icehCDB*CDDCM;iearcsCDI[CDMCM].ifwidthCEA=CEGicewCEI*CEKCM;iearcsCF@[CFDCM].igheightCFH=CFOicehCGA*CGCCM;iearcsCGH[CGLCM].igangle1CH@=CHGCM*CHLCM;iearcsCIB[CIFCM].igangle2CIJ=CJA-CJCCM*CJFCM;ijXFillArcsCJM(CKGiddpyCKH,CKKiedrawCKM,CLAicgcCLC,CLEiearcsCLG,CLKCM);ifrectsCMC[CMHCN].ibxCML=CMNibxCN@+CNBicewCND;ifrectsCNI[CNNCN].ibyCOB=CODibyCOF;ifrectsCOJ[COOCN].ifwidthD@C=D@IibwD@K-D@MicewD@O*DAACM;ifrectsDAF[DAKCN].igheightDAO=DBFibhDBH;ifrectsDBM[DCBCM].ibxDCF=DCHibxDCJ;ifrectsDCN[DDCCM].ibyDDG=DDIibyDDK+DDMicehDDO;ifrectsDED[DEICM].ifwidthDEM=DFCicewDFE;ifrectsDFJ[DFOCM].igheightDGC=DGJibhDGL-DGNicehDH@*DHBCM;ifrectsDHH[DHMCM].ibxDIA=DICibxDIE+DIGibwDII-DIKicewDIM;ifrectsDJB[DJGCM].ibyDJK=DJMibyDJO+DKAicehDKC;ifrectsDKH[DKMCM].ifwidthDLA=DLGicewDLI;ifrectsDLN[DMCCM].igheightDMG=DMNibhDN@-DNBicehDND*DNFCM;ipXFillRectanglesDNL(DOLiddpyDOM,E@@iedrawE@B,E@FicgcE@H,E@JifrectsE@L,EAACM);DB(EALievalsEAM.iiarc_modeEBBBNEBKilArcPieSliceEBN)ilXSetArcModeED@(EDKiddpyEDL,EDOicgcEEA,EECievalsEEE.iiarc_modeEEJ);}EFE
rrectabs"60043 N {ilBNRP_result2:igresult3:;ioGrafContextPtr46ibg56;nibL6=,6>ibT6?,70ibR71,72ibB73,74ifwidth75,7:igheight7;,81ijOvalWidth82,8;ikOvalHeight8<,96ifxmidL97,9<ifxmidR9=,:2ifymidT:3,:8ifymidB:9;DB(;8idtcb;9p;<ihnumargs;>BN<6CM)ALifFALSE=3;DB(>1inBNRP_getValue>2(>?idtcb?0p?3ieargs?5[?9CM],?<&?=igresult?>)BNA@FimBNRP_integerA@I)ALifFALSEAAN;ibgABI=ABJ(ABKioGrafContextPtrABL)igresultACK.ieivalADB;DB(ADOinBNRP_getValueAE@(AEMidtcbAENpAFAieargsAFC[AFGCM],AFJ&AFKigresultAFL)BNAGDimBNRP_integerAGG)ALifFALSEAHL;ibLAIG=AIH(AIIn)igresultAIN.ieivalAJE-AJIibgAJJpAJKieleftAJM;DB(AKJinBNRP_getValueAKK(ALHidtcbALIpALLieargsALN[AMBCM],AME&AMFigresultAMG)BNAMOimBNRP_integerANB)ALifFALSEAOG;ibTB@B=B@C(B@Dn)igresultB@I.ieivalBA@-BADibgBAEpBAFidtopBAH;DB(BBDinBNRP_getValueBBE(BCBidtcbBCCpBCFieargsBCH[BCLCM],BCO&BD@igresultBDA)BNBDIimBNRP_integerBDL)ALifFALSEBFA;ibRBFL=BFM(BFNn)igresultBGC.ieivalBGJ-BGNibgBGOpBH@ieleftBHB;DB(BHOinBNRP_getValueBI@(BIMidtcbBINpBJAieargsBJC[BJGCM],BJJ&BJKigresultBJL)BNBKDimBNRP_integerBKG)ALifFALSEBLL;ibBBMG=BMH(BMIn)igresultBMN.ieivalBNE-BNIibgBNJpBNKidtopBNM;DB(BOIinBNRP_getValueBOJ(C@GidtcbC@HpC@KieargsC@M[CAACM],CAD&CAEigresultCAF)BNCANimBNRP_integerCBA)ALifFALSECCF;ijOvalWidthCDA=CDJ(CDKENn)igresultCEI.ieivalCF@/CFDCM;DB(CFOinBNRP_getValueCG@(CGMidtcbCGNpCHAieargsCHC[CHGCM],CHJ&CHKigresultCHL)BNCIDimBNRP_integerCIG)ALifFALSECJL;ikOvalHeightCKG=CLA(CLBENn)igresultCM@.ieivalCMG/CMKCM;ifxmidLCND=CNI(CNJn)(CNOibLCO@+COAijOvalWidthCOB);ifxmidRD@B=D@G(D@Hn)(D@MibRD@N-D@OijOvalWidthDA@);ifymidTDB@=DBE(DBFn)(DBKibTDBL+DBMikOvalHeightDBN);ifymidBDCO=DDD(DDEn)(DDJibBDDK-DDLikOvalHeightDDM);ifwidthDEL=DFBibRDFD-DFEibLDFF;igheightDFJ=DGAibBDGC-DGDibTDGE;DB(DLG(DLHifxmidLDLI>DLOifxmidRDMA)BKDMH(DMKifymidTDML>DNBifymidBDND))ALifFALSEDOC;DB(E@CibgE@DpE@Eijfill_modeE@GBMEAAighollowEAD)ixXmuDrawRoundedRectangleEAO(ECFihdisplayECG,ECNibgECOpED@iedrawEDB,EDFibgEDGpEDHicgcEDJ,EDLibLEDM,EDNibTEDO,EE@ifwidthEEA,EEFigheightEEG,EEMijOvalWidthEEN,EFGikOvalHeightEFH);DCixXmuFillRoundedRectangleEHA(EIHihdisplayEII,EJ@ibgEJApEJBiedrawEJD,EJHibgEJIpEJJicgcEJL,EJNibLEJO-EK@CM,EKBibTEKC-EKDCM,EKFifwidthEKG+EKLCM,EKNigheightEKO+ELECM,ELGijOvalWidthELH,EMAikOvalHeightEMB);ALieTRUEENJ;}EO@
inqcrectabs"61807 N {ilBNRP_result2=igresult3=;ioGrafContextPtr49ibg59;iiPosition60ieleft70,74idtop75,78ifright79,7>igbottom7?;DB(90idtcb91p94ihnumargs96BN9>CM)ALifFALSE:;;DB(;9inBNRP_getValue;:(<7idtcb<8p<;ieargs<=[=1CM],=4&=5igresult=6)BN=>imBNRP_integer>1)ALifFALSE?6;ibgA@A=A@B(A@CioGrafContextPtrA@D)igresultAAC.ieivalAAJ;DB(ABDibgABEpABFirdefault_clip_rectABH){ieleftAGM=AHBCN;idtopAHI=AHMCN;ifrightAID=AIJ(AILiiPositionAIM)(AJFibgAJGpAJHinparent_windowAJJpAKGifwidthAKI);igbottomALC=ALJ(ALLiiPositionALM)(AMFibgAMGpAMHinparent_windowAMJpANGigheightANI);}AODDC{ieleftBBE=BBJibgBBLpBBMijclip_rectBBO.ibxBCI;idtopBDL=BE@ibgBEBpBECijclip_rectBEE.ibyBEO;ifrightBFD=BFJibgBFLpBFMijclip_rectBFO.ibxBGI+BGJibgBGKpBGLijclip_rectBGN.ifwidthBHH;igbottomBIB=BIIibgBIKpBILijclip_rectBIN.ibyBJH+BJIibgBJJpBJKijclip_rectBJM.igheightBKG;}BLBDB(BMFikDebugTraceBMG)igprintfBNC(BNIs,C@EieleftC@F,C@JidtopC@K,C@NifrightC@O,CADigbottomCAE);ALikBNRP_unifyCBO(CCIidtcbCCJ,CCMidtcbCCNpCDAieargsCDC[CDGCM],CDJiqBNRP_makeIntegerCE@(CF@idtcbCFA,CFD(CFFEA)ieleftCFL))BLCGCikBNRP_unifyCGK(CHEidtcbCHF,CHIidtcbCHJpCHMieargsCHO[CICCM],CIFiqBNRP_makeIntegerCIL(CJLidtcbCJM,CK@(CKBEA)idtopCKH))BLCKNikBNRP_unifyCLF(CM@idtcbCMA,CMDidtcbCMEpCMHieargsCMJ[CMNCM],CNAiqBNRP_makeIntegerCNG(COGidtcbCOH,COK(COMEA)ifrightD@C))BLD@KikBNRP_unifyDAC(DAMidtcbDAN,DBAidtcbDBBpDBEieargsDBG[DBKCM],DBNiqBNRP_makeIntegerDCD(DDDidtcbDDE,DDH(DDJEA)igbottomDE@));}DEJ
crectabs"63159 N {ilBNRP_result2:igresult3:;ioGrafContextPtr46ibg56;DB(61idtcb62p65ihnumargs67BN6?CM)ALifFALSE7<;DB(8:inBNRP_getValue8;(98idtcb99p9<ieargs9>[:2CM],:5&:6igresult:7)BN:?imBNRP_integer;2)ALifFALSE<7;ibg=2==3(=4ioGrafContextPtr=5)igresult>4.ieival>;;DB(ADAinBNRP_getValueADB(ADOidtcbAE@pAECieargsAEE[AEICM],AEL&AEMigresultAEN)BNAFFimBNRP_integerAFI)ALifFALSEAGN;ibgAHIpAHJijclip_rectAHL.ibxAIF=AIG(AIHEF)igresultAIO.ieivalAJF;DB(AKCinBNRP_getValueAKD(ALAidtcbALBpALEieargsALG[ALKCM],ALN&ALOigresultAM@)BNAMHimBNRP_integerAMK)ALifFALSEAO@;ibgAOKpAOLijclip_rectAON.ibyB@H=B@I(B@JEF)igresultBAA.ieivalBAH;DB(BBEinBNRP_getValueBBF(BCCidtcbBCDpBCGieargsBCI[BCMCM],BD@&BDAigresultBDB)BNBDJimBNRP_integerBDM)ALifFALSEBFB;ibgBFMpBFNijclip_rectBG@.ifwidthBGJ=BHA(BHCENEF)(BIC(BIDEF)igresultBIK.ieivalBJB-BJFibgBJGpBJHijclip_rectBJJ.ibxBKD);DB(BL@inBNRP_getValueBLA(BLNidtcbBLOpBMBieargsBMD[BMHCM],BMK&BMLigresultBMM)BNBNEimBNRP_integerBNH)ALifFALSEBOM;ibgC@HpC@Iijclip_rectC@K.igheightCAE=CAL(CANENEF)(CBN(CBOEF)igresultCCF.ieivalCCM-CDAibgCDBpCDCijclip_rectCDE.ibyCDO);DB(CFHikDebugTraceCFI)igprintfCGG(CGMs,CIFibgCIGpCIHijclip_rectCIJ.ibxCJD,CJEibgCJFpCJGijclip_rectCJI.ibyCKC,CKDibgCKEpCKFijclip_rectCKH.ibxCLB+CLMibgCLNpCLOijclip_rectCMA.ifwidthCMK,CN@ibgCNApCNBijclip_rectCND.ibyCNN+CNOibgCO@pCOAijclip_rectCOC.igheightCOM);ibgDABpDACirdefault_clip_rectDAE=DBGifFALSEDBI;inSetClipRegionDCD(DDAibgDDB);ALieTRUEDEA;}DEG
iconabs"64647 N {ilBNRP_result29igresult39;ioGrafContextPtr45ibg55;nibL68,69ibT6:,6;ibR6<,6=ibB6>,6?iiresource70,78ihhashpos79;ciiiconfile8?[97ipBITMAP_NAMESIZE98];igPixmap:>ihiconmap;9,<0ioscaled_iconmap<3;ihBoolean=4igscaled==;ENnifwidth?3,?8igheight?9;DB(A@IidtcbA@JpA@MihnumargsA@OBNAAGCM)ALifFALSEABD;DB(ACCinBNRP_getValueACD(ADAidtcbADBpADEieargsADG[ADKCM],ADN&ADOigresultAE@)BNAEHimBNRP_integerAEK)ALifFALSEAG@;ibgAGK=AGL(AGMioGrafContextPtrAGN)igresultAHM.ieivalAID;DB(AJAinBNRP_getValueAJB(AJOidtcbAK@pAKCieargsAKE[AKICM],AKL&AKMigresultAKN)BNALFimBNRP_integerALI)ALifFALSEAMN;ibLANI=ANJ(ANKn)igresultAO@.ieivalAOG;DB(B@DinBNRP_getValueB@E(BABidtcbBACpBAFieargsBAH[BALCM],BAO&BB@igresultBBA)BNBBIimBNRP_integerBBL)ALifFALSEBDA;ibTBDL=BDM(BDNn)igresultBEC.ieivalBEJ;DB(BFGinBNRP_getValueBFH(BGEidtcbBGFpBGIieargsBGK[BGOCM],BHB&BHCigresultBHD)BNBHLimBNRP_integerBHO)ALifFALSEBJD;ibRBJO=BK@(BKAn)igresultBKF.ieivalBKM;DB(BLJinBNRP_getValueBLK(BMHidtcbBMIpBMLieargsBMN[BNBCM],BNE&BNFigresultBNG)BNBNOimBNRP_integerBOB)ALifFALSEC@G;ibBCAB=CAC(CADn)igresultCAI.ieivalCB@;DB(CBMinBNRP_getValueCBN(CCKidtcbCCLpCCOieargsCDA[CDECM],CDH&CDIigresultCDJ)BNCEBimBNRP_integerCEE)ALifFALSECFJ;iiresourceCGE=CGM(CGNn)igresultCHC.ieivalCHJ;ihsprintfCIE(CILiiiconfileCIM,CJEs,CKDiiresourceCKE);ihhashposCLD=CLKikget_bitmapCLL(CMFiiiconfileCMG,CMO&CNAihiconmapCNB,CNIibgCNKpCNLiedrawCNN);DB(COLihhashposCOMBPD@ECN)imbitmap_tableDAA[DAMihhashposDAN].ijispatternDBG=DC@ifFALSEDCA;DB(DCLihhashposDCM<DDE-DDGCM)ALifFALSEDED;ifwidthDEM=DFCibRDFE-DFFibLDFG;igheightDFK=DGBibBDGD-DGEibTDGF;DB(DGM(DGNifwidthDGOBMDHEijICON_SIZEDHH)BLDIC(DIFigheightDIGBMDINijICON_SIZEDJA)){igscaledDKA=DKHifFALSEDKJ;ioscaled_iconmapDLC=DMBihiconmapDMD;}DMNDC{igscaledDNJ=DOAieTRUEDOC;ioscaled_iconmapDOK=E@JinXCreatePixmapE@L(EAIihdisplayEAJ,EBAibgEBBpEBCiedrawEBE,EBIifwidthEBJ,EBOigheightEC@,ECFCM);DB(ED@!EDAiucreatedSinglePlaneGCEDB){insinglePlaneGCEEM=EFKijXCreateGCEFM(EGFihdisplayEGG,EGNioscaled_iconmapEGO,EHMCN,EHOieNULLEI@);iucreatedSinglePlaneGCEIJ=EJOieTRUEEKA;}EKIilScalePixmapEKM(ELHinsinglePlaneGCELI,EMFihiconmapEMH,EMOioscaled_iconmapENA,ENOijICON_SIZEEOA,EOJijICON_SIZEEOL,F@EifwidthF@F,F@KigheightF@M);}FAGikXCopyPlaneFAK(FBEihdisplayFBF,FBMioscaled_iconmapFBN,FCLibgFCMpFCNiedrawFD@,FDDibgFDEpFDFicgcFDH,FDJCN,FDLCN,FDNifwidthFDO,FEDigheightFEE,FEKibLFEL-FEMibgFENpFEOieleftFFA,FFEibTFFF-FFGibgFFHpFFIidtopFFK,FFNCM);DB(FGHigscaledFGI)ilXFreePixmapFHF(FIAihdisplayFIB,FIIioscaled_iconmapFIJ);DB(FJOihhashposFK@BMFKH-FKKCM)ilXFreePixmapFLA(FLLihdisplayFLM,FMDihiconmapFME);ALieTRUEFNJ;}FO@
LosingFocusCB"66874 N {DB(>2ikDebugTrace>3)igprintf>?(?5s);DB(ABBilclient_dataABC);DB(ACNijcall_dataACOpADHigreasonADJBMAEAirXmCR_LOSING_FOCUSAED){intextEditStateAFN=AGLifFALSEAGN;DB(AI@!AIAiBKXmTextGetSelectionPositionAIB(AJLibwAJM,AJN&AJOimeditSelStartAK@,AKL&AKMikeditSelEndAKN))imeditSelStartAMA=AMNikeditSelEndAN@=ANKiBKXmTextGetInsertionPositionANM(B@GibwB@H);}BA@}BAB
EditBoxChangedCB"67638 N {ciecode=>[>2CM];igKeySymAAOigkeysymABJ;nidnumADA;DB(AELikDebugTraceAEM)igprintfAFI(AFOs);DB(AJBibwAJC);DB(AJLilclient_dataAJM);ijcall_dataALHpAMAiedoitAMC=AMHieTRUEAMJ;DB(ANG(ANHijcall_dataANIpAOBifeventAOD)BLAOK(AONijcall_dataAOOpB@HifeventB@JpB@OietypeBAABMBAFiiKeyPressBAI)){idnumBBN=BCBinXLookupStringBCD(BDA(BDBijXKeyEventBDC*BDM)ijcall_dataBDOpBEHifeventBEJ,BEOiecodeBF@,BFDCG(BFKiecodeBFL),BGA&BGBigkeysymBGC,BGIieNULLBGJ);ijcall_dataBMDpBMMiedoitBMO=BNDintextEditStateBNF;}CAK}CAM
AnalyseTextParms"68509 N {ilBNRP_resultAFHigresultAGH,AGNibpAGO[AH@CM];ijBNRP_termAHIijcurr_termAII;*AJIiktextstringAJJ=AKEieNULLAKG;*ALAiiselstartALB=ALK*ALMigselendALN=AME*AMGihlinenumAMH=AN@CN;DB(ANMinBNRP_getValueANN(AOKidtcbAOLpAOOieargsB@A[B@ECM],B@H&B@IigresultB@J)BNBABimBNRP_integerBAE)ALifFALSEBBJ;*BCEiegptrBCF=BCK(BCMioGrafContextPtrBCN)igresultBDM.ieivalBED;*BENigwindowBEO=BFF(BFHilPGrafWindowBFI*BGE)(BGG(BGH*BGIiegptrBGJ)pBGOinparent_windowBHA);DB(BL@inBNRP_getValueBLA(BLNidtcbBLOpBMBieargsBMD[BMHCM],BMK&BMLigresultBMM)BNBNEimBNRP_integerBNH)ALifFALSEBOM;*C@HibxC@I=C@J(C@KiiPositionC@L)igresultCAE.ieivalCAL;DB(CBJinBNRP_getValueCBK(CCHidtcbCCIpCCLieargsCCN[CDBCM],CDE&CDFigresultCDG)BNCDOimBNRP_integerCEB)ALifFALSECFG;*CGBibyCGC=CGD(CGEiiPositionCGF)igresultCGO.ieivalCHF;DB(CIDinBNRP_getValueCIE(CJBidtcbCJCpCJFieargsCJH[CJLCM],CJO&CK@igresultCKA)BNCKIimBNRP_integerCKL)ALifFALSECMA;*CMLifwidthCMM=CNC(CNEijDimensionCNF)(CO@igresultCOA.ieivalCOH-COM*COOibxD@@);DB(DAHikDebugTraceDAI)igprintfDBE(DBKs,DDI*DDJibxDDK,DDL*DDMibyDDN,DDO*DE@ifwidthDEA);DB(DFHinBNRP_getValueDFI(DGFidtcbDGGpDGJieargsDGL[DH@CM],DHC&DHDigresultDHE)BNDHMimBNRP_integerDI@)ALifFALSEDJE;*DK@igheightDKA=DKH(DKJijDimensionDKK)(DLEigresultDLF.ieivalDLM-DMB*DMDibyDME);DB(DNMikDebugTraceDNN)igprintfDOJ(E@@s,E@O*EA@igheightEAA);DB(EBHinBNRP_getValueEBI(ECFidtcbECGpECJieargsECL[ED@CM],EDC&EDDigresultEDE)BNEDMijBNRP_listEE@)ALifFALSEEFB;ijcurr_termEFM=EGGigresultEGI.ietermEH@.iffirstEHE;DB(EIC(EIDiuBNRP_getIndexedValueEIE(EJIijcurr_termEJJ,EKCCM,EKE&EKFibpEKG[EKHCN])BNEKMilBNRP_symbolEL@)BKELM(EMHiuBNRP_getIndexedValueEMI(ENMijcurr_termENN,EOGCM,EOI&EOJibpEOK[EOLCM])BNF@AilBNRP_symbolF@D)BKFAA(FALiuBNRP_getIndexedValueFAM(FCAijcurr_termFCB,FCKCM,FCM&FCNibpFCO[FD@CM])BNFDEilBNRP_symbolFDH)BKFEE(FEJiuBNRP_getIndexedValueFEK(FFOijcurr_termFG@,FGICM,FGK&FGLigresultFGM)BNFHEimBNRP_integerFHH))ALifFALSEFIN;*FJLiktextstringFJM=FKHiiXtMallocFKJ(FLBigstrlenFLC(FLIibpFLJ[FLKCN].idsymFLO.iesvalFMC)+FMHigstrlenFMI(FMOibpFN@[FNACM].idsymFNE.iesvalFNI)+FNNigstrlenFNO(FOEibpFOF[FOGCM].idsymFOK.iesvalFOO)+G@ECM);igstrcpyG@O(GAE*GAFiktextstringGAG,GBAibpGBB[GBCCN].idsymGBG.iesvalGBK);igstrcatGCF(GCL*GCMiktextstringGCN,GDHibpGDI[GDJCM].idsymGDN.iesvalGEB);igstrcatGEM(GFC*GFDiktextstringGFE,GFOibpGG@[GGACM].idsymGGE.iesvalGGI);*GHDiiselstartGHE=GHNigstrlenGI@(GIFibpGIG[GIHCN].idsymGIL.iesvalGJ@);*GJKigselendGJL=GKC*GKEiiselstartGKF+GKOigstrlenGLA(GLGibpGLH[GLICM].idsymGLM.iesvalGMA);DB(GMO(GN@(GNA*GNBihlinenumGNC)=GNLigresultGNN.ieivalGOE)<GOKCN)*H@EihlinenumH@F=H@NCN;DCDB(HAO(HB@*HBAihlinenumHBB+HBICM)>HBMigstrlenHBO(HCE*HCFiktextstringHCG))*HDJihlinenumHDK=HECigstrlenHEE(HEK*HELiktextstringHEM)-HFICM;DB(HHCikDebugTraceHHD)igprintfHIH(HINs,HNDigstrlenHOG(HOM*HONiktextstringHOO),I@J*I@KiktextstringI@L,IAF*IAGiiselstartIAH,IB@*IBAigselendIBB,IBH*IBIihlinenumIBJ);ALieTRUEIDF;}IDL
IntersectRect"70971 N {igResult40p46ibx48=4:(4<icR14=.ibx50>52icR254.ibx57)?icR15<.ibx5?:icR263.ibx66;igResult6<p72iby74=76(78icR179.iby7<>7>icR280.iby83)?icR188.iby8;:icR28?.iby92;igResult98p9>ifwidth:0=:6(:8(:9icR1::.ibx:=+:>icR1:?.ifwidth;2)<;9(;;icR2;<.ibx;?+<0icR2<1.ifwidth<4))?(>6icR1>7.ibx>:+>;icR1><.ifwidth>?-?4igResult?5p?;ibx?=):(A@BicR2A@C.ibxA@F+A@GicR2A@H.ifwidthA@K-AA@igResultAAApAAGibxAAI);igResultAB@pABFigheightABH=ABO(ACA(ACBicR1ACC.ibyACF+ACGicR1ACH.igheightACK)<ADC(ADEicR2ADF.ibyADI+ADJicR2ADK.igheightADN))?(AGAicR1AGB.ibyAGE+AGFicR1AGG.igheightAGJ-AH@igResultAHApAHGibyAHI):(AHNicR2AHO.ibyAIB+AICicR2AID.igheightAIG-AIMigResultAINpAJDibyAJF);DB(AKMikDebugTraceAKN)igprintfAM@(AMFs,BAIicR1BBI.ibxBBL,BBMicR1BBN.ibyBCA,BCBicR1BCC.ifwidthBCF+BCKicR1BCL.ibxBCO,BD@icR1BDA.igheightBDD+BDJicR1BDK.ibyBDN,BDOicR2BEO.ibxBFB,BFCicR2BFD.ibyBFG,BFHicR2BFI.ifwidthBFL+BGAicR2BGB.ibxBGE,BGFicR2BGG.igheightBGJ+BH@icR2BHA.ibyBHD,BHEigResultBIEpBIKibxBIM,BINigResultBIOpBJEibyBJG,BJHigResultBJIpBJOifwidthBKA+BKFigResultBKGpBKMibxBKO,BL@igResultBLApBLGigheightBLI+BLOigResultBM@pBMFibyBMH);}BND
editbabs"72812 N {ioGrafContextPtr2:iegptr3:;ilPGrafWindow44*54igwindow55;iiPosition61ibx71,72iby73;ijDimension7:ifwidth8:,8?igheight90;c*:<ikeditstring:=;c*<=ijoutstring<>;ioXmTextPosition==iiselstart>=,?5igselend?6;nihlinenumAAB;ijBNRP_termAAOiltextoutTermABO;nibnAE@;idArgAEGieargsAFG[AFKCM];ikXmFontListAGEiifontListAHE;ilBNRP_resultAICibpAJC;iiBNRP_tagAJJidtagAKJ;ijBNRP_termALCietermAMC;ijXGCValuesAMMigvaluesANM;ikXRectangleAOIijedit_rectB@I,BABijview_rectBAC;igWidgetBBBimeditbox_clipBCB;nimstringLengthBED;DB(BGKikDebugTraceBGL)igprintfBHH(BHNs);DB(BKAidtcbBKBpBKEihnumargsBKGBNBKOCM)ALifFALSEBLM;DB(CBL!CBMiqAnalyseTextParmsCBO(CCOidtcbCD@,CDC&CDDiegptrCDE,CDI&CDJigwindowCDK,CEA&CEBibxCEC,CED&CEEibyCEF,CEG&CEHifwidthCEI,CEN&CEOigheightCF@,CFF&CHCikeditstringCHD,CHN&CHOiiselstartCI@,CIH&CIIigselendCIJ,CJ@&CJAihlinenumCJB))ALifFALSECKJ;imnumExitCharsCOI=D@FCN;DB(DAB(DACidtagDAD=DAHinBNRP_getValueDAJ(DBGidtcbDBHpDBKieargsDBM[DCACM],DCE&DCFibpDCG))BNDCKijBNRP_listDCN){igXtFreeDDM(DECikeditstringDED);ALifFALSEDFJ;}DGBietermDGH=DGMibpDGO.ietermDHA.iffirstDHF;AP(DIG(DIHidtagDII=DIMirBNRP_getNextValueDIO(DK@&DKAietermDKB,DKF&DKGibpDKH))BNDKLiiBNRP_endDKO){DB(DMC(DMDidtagDMEBMDMIilBNRP_symbolDML)BLDNI(DNLimnumExitCharsDNM<DOJimMAXEXITCHARSDOL)){DB(EAIigstrlenEAJ(EB@ibpEBA.idsymEBC.iesvalEBG)BMEBMCM){ileditExitSetEGO[EHJimnumExitCharsEHK].ifasciiEII=EIOieTRUEEJA;ileditExitSetEKG[ELBimnumExitCharsELC].ibuEMA.ilascii_valueEMC=EMOibpENA.idsymENC.iesvalENG[ENKCN];}EOCDC{ileditExitSetFBI[FCDimnumExitCharsFCE].ifasciiFDC=FDIifFALSEFDK;DB(FFH(FFIileditExitSetFFJ[FGEimnumExitCharsFGF].ibuFHD.igkeysymFHF=FHMioStringToKeysymFHO(FIMibpFIN.idsymFJ@.iesvalFJD))BMFJKiiNoSymbolFJN){igXtFreeFO@(FOFikeditstringFOG);ALifFALSEGAO;}GCFDB(GEHikDebugTraceGEI)igprintfGGF(GGLs,GI@ileditExitSetGIB[GIMimnumExitCharsGIN].ibuGJL.igkeysymGJN,GKDibpGKE.idsymGKG.iesvalGKK);}GME}GMIDC{igXtFreeGNM(GOCikeditstringGOD);ALifFALSEHAD;}HBCimnumExitCharsHBMCEHCJ;}HCOimXGetGCValuesIBA(IBMihdisplayIBN,ICEiegptrICFpICJicgcICL,ICNimGCForegroundICO|IDKimGCBackgroundIDL,IEH&IEIigvaluesIEJ);ioXSetForegroundIFG(IGEihdisplayIGF,IGMiegptrIGNpIHBicgcIHD,IHFigvaluesIHG.ikbackgroundIHN);ioXSetBackgroundIIO(IJMihdisplayIJN,IKEiegptrIKFpIKJicgcIKL,IKNigvaluesIKO.ikforegroundILF);ioXFillRectangleIMG(INEihdisplayINF,INMiegptrINNpIOBiedrawIOD,IOHiegptrIOIpIOMicgcIOO,J@AibxJ@B,J@CibyJ@D,J@EifwidthJ@F,J@KigheightJ@L);ioXSetForegroundJAI(JBGihdisplayJBH,JBOiegptrJC@pJCDicgcJCF,JCHigvaluesJCI.ikforegroundJD@);ioXSetBackgroundJEA(JEOihdisplayJF@,JFGiegptrJFHpJFLicgcJFN,JG@igvaluesJGA.ikbackgroundJGH);ibnJMH=JMJCN;DB(JNFiegptrJNGpJNKirdefault_clip_rectJNM){ijview_rectK@I.ibxKAC=KAEibxKAG;ijview_rectKBC.ibyKBM=KBOibyKCA;ijview_rectKCM.ifwidthKDG=KDMifwidthKDO;ijview_rectKEO.igheightKFI=KG@igheightKGB;}KHADC{ijedit_rectKLA.ibxKLK=KLM(KLOEF)ibxKMG;ijedit_rectKNC.ibyKNM=KNO(KOAEF)ibyKOI;ijedit_rectL@E.ifwidthL@O=LAE(LAGENEF)ifwidthLBH;ijedit_rectLCH.igheightLDB=LDI(LDKENEF)igheightLEL;inIntersectRectLFM(LGJiegptrLGKpLGOijclip_rectLHA,LHJijedit_rectLHK,LID&LIEijview_rectLIF);}LJIDB(LKB(LKC(LKDEF)ijview_rectLKK.igheightLLE>LLLCN)BLLMA(LMD(LMEEF)ijview_rectLML.ifwidthLNF>LNLCN)){iiXtSetArgLOK(M@CieargsM@D[M@HibnM@I],M@KieXmNxM@L,MA@ijview_rectMAA.ibxMAK);ibnMAOCEMB@;iiXtSetArgMBM(MCEieargsMCF[MCJibnMCK],MCMieXmNyMCN,MDBijview_rectMDC.ibyMDM);ibnMEACEMEB;iiXtSetArgMEO(MFGieargsMFH[MFLibnMFM],MFOiiXmNwidthMG@,MGHijview_rectMGI.ifwidthMHC);ibnMHKCEMHL;iiXtSetArgMII(MJAieargsMJB[MJFibnMJG],MJIijXmNheightMJJ,MKCijview_rectMKD.igheightMKN);ibnMLGCEMLH;iiXtSetArgMME(MMMieargsMMN[MNBibnMNC],MNEipXmNmarginHeightMNF,MOECN);ibnMOJCEMOK;iiXtSetArgN@H(NA@ieargsNAA[NAEibnNAF],NAHioXmNmarginWidthNAI,NBGCN);ibnNBLCENBM;}NCIDC{DB(NHCikDebugTraceNHD)igprintfNIO(NJEs);igXtFreeNMK(NNAikeditstringNNB);ALifFALSEO@B;}OABimeditbox_clipOAI=OBFitXmCreateDrawingAreaOBH(OCKigwindowOCLpODBigcanvasODD,ODJs,OEIieargsOEJ,OENibnOEO);inXtManageChildOFG(OGDimeditbox_clipOGE);ibnOJG=OJICN;iiXtSetArgOKB(OKJieargsOKK[OKOibnOL@],OLBieXmNxOLC,OLGibxOLH-OLJijview_rectOLL.ibxOMF);ibnOMJCEOMK;iiXtSetArgONC(ONKieargsONL[OO@ibnOOA],OOCieXmNyOOD,OOHibyOOI-OOKijview_rectOOM.ibyQPPW);ibnQPP[CEQPP\;iiXtSetArgQPQT(QPQ\ieargsQPQ][QPRQibnQPRR],QPRTiiXmNwidthQPRU,QPR]ifwidthQPR^);ibnQPSVCEQPSW;iiXtSetArgQPS_(QPTWieargsQPTX[QPT\ibnQPT]],QPT_ijXmNheightQPUP,QPUYigheightQPUZ);ibnQPVSCEQPVT;iiXtSetArgQPV\(QPWTieargsQPWU[QPWYibnQPWZ],QPW\ilXmNwordWrapQPW],QPXXieTRUEQPXY);ibnQPYPCEQPYQ;iiXtSetArgQPYY(QPZQieargsQPZR[QPZVibnQPZW],QPZYinXmNverifyBellQPZZ,QP[WifFALSEQP[X);ibnQP\PCEQP\Q;iiXtSetArgQP\Y(QP]QieargsQP]R[QP]VibnQP]W],QP]YipXmNmarginHeightQP]Z,QP^YCN);ibnQP^^CEQP^_;iiXtSetArgQP_W(QP__ieargsQQPP[QQPTibnQQPU],QQPWioXmNmarginWidthQQPX,QQQVCN);ibnQQQ[CEQQQ\;iiXtSetArgQQRT(QQR\ieargsQQR][QQSQibnQQSR],QQSTivXmNhighlightThicknessQQSU,QQTZCN);ibnQQT_CEQQUP;iiXtSetArgQQUX(QQVPieargsQQVQ[QQVUibnQQVV],QQVXisXmNshadowThicknessQQVY,QQW[CN);ibnQQXPCEQQXQ;iiXtSetArgQQXY(QQYQieargsQQYR[QQYVibnQQYW],QQYYilXmNeditModeQQYZ,QQZUirXmMULTI_LINE_EDITQQZV);ibnQQ[ZCEQQ[[;iiXtSetArgQQ\S(QQ\[ieargsQQ\\[QQ]PibnQQ]Q],QQ]SiqXmNpendingDeleteQQ]T,QQ^TieTRUEQQ^U);ibnQQ^\CEQQ^];DB(QRQ[iegptrQRQ\pQRRPiefontQRRR)iiXtSetArgQRR](QRSUieargsQRSV[QRSZibnQRS[],QRS]ilXmNfontListQRS^,QRTYiifontListQRTZ=QRURiqXmFontListCreateQRUS(QRVSiegptrQRVTpQRVXiefontQRVZ,QRV^ihcharsetQRV_));ibnQRWZCEQRW[;iheditboxQRXS=QRX[imXmCreateTextQRX](QRYYimeditbox_clipQRYZ,QRZVs,QR[PieargsQR[Q,QR[UibnQR[V);DB(QR[^iegptrQR[_pQR\SiefontQR\U)ioXmFontListFreeQR]P(QR]^iifontListQR]_);inXtManageChildQR^^(QR_[iheditboxQR_\);ipXmTextSetStringQSTQ(QSUPiheditboxQSUQ,QSUXikeditstringQSUY);DB(QS[SilPrologEventQS[TpQS[_ietypeQS\QBMQS\VinusermousedownQS\Y){ipPUserMouseEventQS^X*QS_XicpeQS_Y=QS_\(QS_^ipPUserMouseEventQS__*QTP_)ilPrologEventQTQR;iBKXmTextSetInsertionPositionQTRW(QTTQiheditboxQTTR,QTTYinXmTextXYToPosQTV^(QTW[iheditboxQTW\,QTXSicpeQTXTpQTXVihmouselxQTXX-QTX_ibxQTYP,QTYQicpeQTYRpQTYTihmouselyQTYV-QTY]ibyQTY^));}QTZWDC{iBKXmTextSetInsertionPositionQT^P(QT_ZiheditboxQT_[,QUPRigselendQUPS);DB(QUQWigwindowQUQXBMQUQ_(QURRilPGrafWindowQURS*QUR_)imfocus_windowQUSR)isXmTextSetSelectionQUT\(QUU^iheditboxQUU_,QUVViiselstartQUVW,QUV_igselendQUWP,QUWViyXtLastTimestampProcessedQUWW(QUX_ihdisplayQUYP));DCisXmTextSetHighlightQU[T(QU\ViheditboxQU\W,QU\^iiselstartQU\_,QU]WigselendQU]X,QU]^iuXmHIGHLIGHT_SELECTEDQU]_);}QU_ZivXmTextSetTopCharacterQVPP(QVQUiheditboxQVQV,QVQ]ihlinenumQVQ^);igXtFreeQVR\(QVSRikeditstringQVSS);inXtAddCallbackQWUR(QWU_iheditboxQWVP,QWVWixXmNmodifyVerifyCallbackQWVX,QWW_(QWXPioXtCallbackProcQWXQ)iqEditBoxChangedCBQWYP,QWZPieNULLQWZQ);irXtAddEventHandlerQXV^(QXW_iheditboxQXXP,QXXWimKeyPressMaskQXXX,QXYTifFALSEQXYU,QXYZikKeyPressCBQXY[,QXZUigwindowQXZV);inXmAddTabGroupQX]_(QX^\iheditboxQX^]);isXmProcessTraversalQX_[(QYP]iheditboxQYP^,QYQUisXmTRAVERSE_CURRENTQYQV);intextEditStateQY[S=QY\QieTRUEQY\S;AGijeventLoopQY]V(QY]_);AP(QY^]intextEditStateQY^^);ikeditstringQZSQ=QZS\ipXmTextGetStringQZS^(QZT]iheditboxQZT^);imstringLengthQZU\=QZVYigstrlenQZV[(QZWQikeditstringQZWR);iltextoutTermQZXS=QZX_ioBNRP_startListQZYQ(QZY_idtcbQZZP);DB(Q[QU!Q[QViBKXmTextGetSelectionPositionQ[QW(Q[SQiheditboxQ[SR,Q[SY&Q[SZiiselstartQ[S[,Q[TS&Q[TTigselendQ[TU)BKQ[T](Q[UPiiselstartQ[UQBMQ[UZigselendQ[U]))iiselstartQ[V^=Q[WWigselendQ[WY=Q[XPiBKXmTextGetInsertionPositionQ[XR(Q[Y\iheditboxQ[Y]);DB(Q\VSiiselstartQ\VT<Q\V]CN)iiselstartQ\WR=Q\W[CN;DB(Q\XWigselendQ\XX>Q\X_imstringLengthQ\YQ)igselendQ\Y_=Q\ZVimstringLengthQ\ZX;DB(Q\[]iiselstartQ\[^>Q\\WigselendQ\\Y)iiselstartQ\]Q=Q\]ZigselendQ\]\;ijoutstringQ\^Z=Q\_TiiXtMallocQ\_V(Q\_^imstringLengthQ\__+Q]P\CM);igmemcpyQ]S\(Q]TRijoutstringQ]TS,Q]T\ikeditstringQ]T],Q]UWiiselstartQ]UX);ijoutstringQ]VW[Q]WPiiselstartQ]WQ]=Q]W[DA;imBNRP_addTermQ]XW(Q]YSidtcbQ]YT,Q]YWiltextoutTermQ]YX,Q]ZSipBNRP_makeSymbolQ]ZT(Q][SidtcbQ][T,Q][WijoutstringQ][X));igmemcpyQ]^^(Q]_TijoutstringQ]_U,Q]_^ikeditstringQ]__+Q^PYiiselstartQ^PZ,Q^QRigselendQ^QS-Q^QYiiselstartQ^QZ);ijoutstringQ^RY[Q^SRigselendQ^SS-Q^SYiiselstartQ^SZ]=Q^TTDA;imBNRP_addTermQ^UP(Q^U\idtcbQ^U],Q^VPiltextoutTermQ^VQ,Q^V\ipBNRP_makeSymbolQ^V](Q^W\idtcbQ^W],Q^XPijoutstringQ^XQ));igmemcpyQ^[W(Q^[]ijoutstringQ^[^,Q^\WikeditstringQ^\X+Q^]RigselendQ^]S,Q^]YimstringLengthQ^]Z-Q^^WigselendQ^^Y);ijoutstringQ^_V[Q^__imstringLengthQ_PP-Q_P]igselendQ_P_]=Q_QWDA;imBNRP_addTermQ_RS(Q_R_idtcbQ_SP,Q_SSiltextoutTermQ_ST,Q_S_ipBNRP_makeSymbolQ_TP(Q_T_idtcbQ_UP,Q_USijoutstringQ_UT));imBNRP_addTermQ_VV(Q_WRidtcbQ_WS,Q_WViltextoutTermQ_WW,Q_XRiqBNRP_makeIntegerQ_XT(Q_YTidtcbQ_YU,Q_YX(Q_YYEAn)ivXmTextGetTopCharacterQ_ZT(Q_[YiheditboxQ_[Z)));ipXtDestroyWidgetRPSW(RPTVimeditbox_clipRPTW);igXtFreeRPUZ(RPVPikeditstringRPVQ);igXtFreeRPWR(RPWXijoutstringRPWY);ALikBNRP_unifyRPYQ(RPY[idtcbRPY\,RPY_idtcbRPZPpRPZSieargsRPZU[RPZYCM],RPZ\iltextoutTermRPZ])BLRP[ZirFormatPrologEventRP\X(RP]YidtcbRP]Z,RP]]CM,RP]_ilPrologEventRP^P);}RP^_
scrollrect"81935 N {ilBNRP_result29igresult39;ioGrafContextPtr45ibg55;nibL65,66ibT67,68ibR69,6:ibB6;,6<igdeltaX6=,73igdeltaY74,7:iesrcX7;,7?iesrcY80,84ifdestX85,8:ifdestY8;;nifwidth:6,:;igheight:<;ijXGCValues;8igvalues<8;DB(=8idtcb=9p=<ihnumargs=>BN>6CM)ALifFALSE?3;DB(A@AinBNRP_getValueA@B(A@OidtcbAA@pAACieargsAAE[AAICM],AAL&AAMigresultAAN)BNABFimBNRP_integerABI)ALifFALSEACN;ibgADI=ADJ(ADKioGrafContextPtrADL)igresultAEK.ieivalAFB;DB(AFOinBNRP_getValueAG@(AGMidtcbAGNpAHAieargsAHC[AHGCM],AHJ&AHKigresultAHL)BNAIDimBNRP_integerAIG)ALifFALSEAJL;ibLAKG=AKH(AKIn)igresultAKN.ieivalALE;DB(AMBinBNRP_getValueAMC(AN@idtcbANApANDieargsANF[ANJCM],ANM&ANNigresultANO)BNAOGimBNRP_integerAOJ)ALifFALSEB@O;ibTBAJ=BAK(BALn)igresultBBA.ieivalBBH;DB(BCEinBNRP_getValueBCF(BDCidtcbBDDpBDGieargsBDI[BDMCM],BE@&BEAigresultBEB)BNBEJimBNRP_integerBEM)ALifFALSEBGB;ibRBGM=BGN(BGOn)igresultBHD.ieivalBHK;DB(BIHinBNRP_getValueBII(BJFidtcbBJGpBJJieargsBJL[BK@CM],BKC&BKDigresultBKE)BNBKMimBNRP_integerBL@)ALifFALSEBME;ibBBN@=BNA(BNBn)igresultBNG.ieivalBNN;DB(BOKinBNRP_getValueBOL(C@IidtcbC@JpC@MieargsC@O[CACCM],CAF&CAGigresultCAH)BNCB@imBNRP_integerCBC)ALifFALSECCH;igdeltaXCDC=CDI(CDJn)igresultCDO.ieivalCEF;DB(CFCinBNRP_getValueCFD(CGAidtcbCGBpCGEieargsCGG[CGKCM],CGN&CGOigresultCH@)BNCHHimBNRP_integerCHK)ALifFALSECJ@;igdeltaYCJK=CKA(CKBn)igresultCKG.ieivalCKN;DB(CLL(CLMigdeltaXCLNBMCMECN)BLCMK(CMNigdeltaYCMOBMCNFCN))ALieTRUECOD;DB(COOigdeltaXD@@BPD@GCN){ifwidthDAA=DAGibRDAI-DAJibLDAK-DALigdeltaXDAM;iesrcXDBG=DBMibLDBO;ifdestXDCD=DCJibLDCL+DCMigdeltaXDCN;}DDGDC{ifwidthDEC=DEIibRDEK-DELibLDEM+DENigdeltaXDEO;iesrcXDFI=DFOibLDGA-DGBigdeltaXDGC;ifdestXDGM=DHCibLDHE;}DHIDB(DHOigdeltaYDI@BPDIGCN){igheightDJA=DJHibBDJJ-DJKibTDJL-DJMigdeltaYDJN;iesrcYDKH=DKOibTDLA;ifdestYDLF=DLMibTDLO+DM@igdeltaYDMA;}DMJDC{igheightDNF=DNMibBDNO-DO@ibTDOA+DOBigdeltaYDOC;iesrcYDOM=E@DibTE@F-E@GigdeltaYE@H;ifdestYEAB=EAIibTEAK;}EAOimXGetGCValuesEBF(ECBihdisplayECC,ECJibgECKpECLicgcECN,ED@ijGCStippleEDA,EDJ&EDKigvaluesEDL);ilXSetStippleELC(ELNihdisplayELO,EMFibgEMGpEMHicgcEMJ,EMLimbitmap_tableEMM[ENIibgENJpENKimbackpatindexENM].iibitimageEOK);ijXCopyAreaFFA(FFJihdisplayFFK,FGBibgFGCpFGDiedrawFGF,FGJibgFGLpFGMiedrawFGO,FHCibgFHDpFHEicgcFHG,FHIiesrcXFHK,FHOiesrcYFI@,FIDifwidthFIE,FIJigheightFIK,FJAifdestXFJB,FJGifdestYFJH);DB(GAEigdeltaXGAF>GAMCN)ioXFillRectangleGBE(GCCihdisplayGCD,GCKibgGCLpGCMiedrawGCO,GDCibgGDDpGDEicgcGDG,GDIibLGDJ,GDKibTGDL,GDMigdeltaXGDN,GEDibBGEE-GEFibTGEG);DCDB(GFDigdeltaXGFE<GFLCN)ioXFillRectangleGGC(GHAihdisplayGHB,GHIibgGHJpGHKiedrawGHM,GIAibgGIBpGICicgcGIE,GIGibRGIH+GIIigdeltaXGIJ,GJ@ibTGJA,GJB-GJCigdeltaXGJD,GJJibBGJK-GJLibTGJM);DB(GKFigdeltaYGKG>GKNCN)ioXFillRectangleGLF(GMDihdisplayGME,GMLibgGMMpGMNiedrawGN@,GNDibgGNEpGNFicgcGNH,GNJibLGNK,GNLibTGNM,GNNibRGNO-GO@ibLGOA,GOBigdeltaYGOC);DCDB(H@EigdeltaYH@F<H@MCN)ioXFillRectangleHAD(HBBihdisplayHBC,HBJibgHBKpHBLiedrawHBN,HCBibgHCCpHCDicgcHCF,HCHibLHCI,HCJibBHCK+HCLigdeltaYHCM,HDCibRHDD-HDEibLHDF,HDG-HDHigdeltaYHDI);ilXSetStippleHEG(HFBihdisplayHFC,HFJibgHFKpHFLicgcHFN,HG@igvaluesHGA.ihstippleHGH);ALieTRUEHHJ;}HI@
getGrafTextSize"84188 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;DB(4>idtcb4?p52ihnumargs54BN5<CM)ALifFALSE69;DB(75inBNRP_getValue76(83idtcb84p87ieargs89[8=CM],90&92ibp93)BN96imBNRP_integer99)ALifFALSE:>;ibg;6=;8(;:ioGrafContextPtr;;)ibp<;.ieival<=;ALircommonGetTextSize=<(>=idtcb>>,?1&?3ibg?4p?5iifontInfo?7);}A@B
getGrafTextFont"84507 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;DB(4>idtcb4?p52ihnumargs54BN5<CM)ALifFALSE69;DB(75inBNRP_getValue76(83idtcb84p87ieargs89[8=CM],90&92ibp93)BN96imBNRP_integer99)ALifFALSE:>;ibg;6=;8(;:ioGrafContextPtr;;)ibp<;.ieival<=;ALircommonGetTextFont=<(>=idtcb>>,?1&?3ibg?4p?5iifontInfo?7);}A@B
setGrafTextSize"84781 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;ihBoolean4:idres52=56ifFALSE58;ilXFontStruct60*6=iefont6>;iiFontInfo75ieinfo7>;DB(89idtcb8:p8=ihnumargs8?BN97CM)ALifFALSE:4;DB(;0inBNRP_getValue;1(;>idtcb;?p<2ieargs<4[<8CM],<;&<=ibp<>)BN=1imBNRP_integer=4)ALifFALSE>9;ibg?1=?3(?5ioGrafContextPtr?6)ibpA@F.ieivalA@H;DB(AACinBNRP_getValueAAD(ABAidtcbABBpABEieargsABG[ABKCM],ABN&AC@ibpACA)BNACDimBNRP_integerACG)ALifFALSEADL;DB(AEGibpAEH.ieivalAEJBMAEOibgAFBpAFCiifontInfoAFE.iesizeAFN)ALieTRUEAGK;ieinfoAHC.ienameAHH=AHMibgAHOpAI@iifontInfoAIB.ienameAIK;ieinfoAJB.iesizeAJG=AJLibpAJN.ieivalAK@;ieinfoAKH.igweightAKM=ALDibgALFpALGiifontInfoALI.igweightAMB;ieinfoAMK.ifslantAN@=ANFibgANHpANIiifontInfoANK.ifslantAOD;DB(AOOiefontB@@=B@EihgetFontB@G(B@N&B@OieinfoBA@,BADifFALSEBAE)){idresBBA=BBEieTRUEBBG;ibgBBOpBC@iifontInfoBCB.iesizeBCK=BD@ibpBDB.ieivalBDD;ibgBDLpBDMiefontBDO=BEDiefontBEF;iiXSetFontBEN(BFFihdisplayBFG,BFNibgBG@pBGAicgcBGC,BGEiefontBGGpBGKidfidBGM);}BHDALidresBIA;}BIF
setGrafTextFont"85504 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;ihBoolean4:idres52=56ifFALSE58;ilXFontStruct60*6=iefont6>;iiFontInfo75ieinfo7>;DB(89idtcb8:p8=ihnumargs8?BN97CM)ALifFALSE:4;DB(;0inBNRP_getValue;1(;>idtcb;?p<2ieargs<4[<8CM],<;&<=ibp<>)BN=1imBNRP_integer=4)ALifFALSE>9;ibg?1=?3(?5ioGrafContextPtr?6)ibpA@F.ieivalA@H;DB(AACinBNRP_getValueAAD(ABAidtcbABBpABEieargsABG[ABKCM],ABN&AC@ibpACA)BNACDilBNRP_symbolACG)ALifFALSEADK;DB(AEFigstrcmpAEG(AEMibgAENpAEOiifontInfoAFA.ienameAFJ,AFNibpAFO.idsymAGA.iesvalAGE)BMAGKCN)ALieTRUEAHH;ieinfoAI@.ienameAIE=AIJibpAIL.idsymAIN.iesvalAJB;ieinfoAJI.iesizeAJN=AKCibgAKEpAKFiifontInfoAKH.iesizeALA;ieinfoALI.igweightALN=AMEibgAMGpAMHiifontInfoAMJ.igweightANC;ieinfoANL.ifslantAOA=AOGibgAOIpAOJiifontInfoAOL.ifslantB@E;DB(BA@iefontBAA=BAFihgetFontBAH(BAO&BB@ieinfoBBA,BBEifFALSEBBF)){ibgBCBpBCCiifontInfoBCE.ienameBCN=BDCijXtReallocBDE(BDNibgBDOpBE@iifontInfoBEB.ienameBEK,BEOigstrlenBF@(BFFibpBFG.idsymBFI.iesvalBFM)+BGBCM);igstrcpyBGI(BGOibgBH@pBHAiifontInfoBHC.ienameBHL,BI@ibpBIB.idsymBID.iesvalBIH);ibgBJApBJBiefontBJD=BJIiefontBJK;iiXSetFontBKC(BKKihdisplayBKL,BLCibgBLEpBLFicgcBLH,BLJiefontBLLpBM@idfidBMB);idresBMJ=BMNieTRUEBN@;}BNGALidresBOA;}BOF
getGrafTextFace"86277 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;DB(4>idtcb4?p52ihnumargs54BN5<CM)ALifFALSE69;DB(74inBNRP_getValue75(82idtcb83p86ieargs88[8<CM],8?&91ibp92)BN95imBNRP_integer98)ALifFALSE:=;ibg;5=;7(;9ioGrafContextPtr;:)ibp<:.ieival<<;ALircommonGetTextFace=;(><idtcb>=,?0&?1ibg?2p?3iifontInfo?5);}A@@
setGrafTextFace"86594 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;iiFontInfo4:ieinfo53;ijBNRP_term5:ijcurr_term64;ilXFontStruct70*7<iefont7=;iiBNRP_tag84idtag8=;DB(97idtcb98p9;ihnumargs9=BN:5CM)ALifFALSE;2;DB(;=inBNRP_getValue;>(<;idtcb<<p<?ieargs=1[=5CM],=8&=:ibp=;)BN=>imBNRP_integer>1)ALifFALSE?6;ibg?>=A@@(A@BioGrafContextPtrA@C)ibpAAC.ieivalAAE;DB(AB@inBNRP_getValueABA(ABNidtcbABOpACBieargsACD[ACHCM],ACK&ACMibpACN)BNADAijBNRP_listADD)ALifFALSEAEF;ieinfoAF@.igweightAFE=AFLinNORMAL_WEIGHTAFN;ieinfoAGN.ifslantAHC=AHIimNORMAL_SLANTAHK;ijcurr_termAIJ=AJDibpAJF.ietermAJH.iffirstAJM;AP(AKK(AKLidtagAKM=ALAirBNRP_getNextValueALC(AMD&AMEijcurr_termAMF,AMO&AN@ibpANA))BNANEiiBNRP_endANH){DB(AOIidtagAOJBMAONiiBNRP_varB@A)ALieTRUEBAB;DB(BAMidtagBANBMBBBimBNRP_tailvarBBE)ALieTRUEBCJ;DB(BDEidtagBDFBNBDJilBNRP_symbolBDM)ALifFALSEBFA;DB(BFMigstrcmpBFN(BGDibpBGE.idsymBGG.iesvalBGK,BGOs)BMBHHCN)ieinfoBIA.igweightBIF=BIMilBOLD_WEIGHTBIO;DCDB(BKFigstrcmpBKG(BKMibpBKN.idsymBL@.iesvalBLD,BLHs)BMBMCCN)ieinfoBML.ifslantBNA=BNGimITALIC_SLANTBNI;}BOHDB(BOO(C@@ieinfoC@A.igweightC@FBNC@MibgCA@pCAAiifontInfoCAC.igweightCAL)BKCBD(CBGieinfoCBH.ifslantCBMBNCCCibgCCFpCCGiifontInfoCCI.ifslantCDB)){ieinfoCDN.ienameCEC=CEHibgCEJpCEKiifontInfoCEM.ienameCFF;ieinfoCFN.iesizeCGC=CGHibgCGJpCGKiifontInfoCGM.iesizeCHF;DB(CIAiefontCIB=CIGihgetFontCII(CJ@&CJAieinfoCJB,CJFifFALSECJG)){ibgCKDpCKEiifontInfoCKG.igweightCL@=CLGieinfoCLI.igweightCLN;ibgCMIpCMJiifontInfoCML.ifslantCNE=CNKieinfoCNM.ifslantCOB;ibgCOLpCOMiefontCOO=D@DiefontD@F;iiXSetFontD@O(DAGihdisplayDAH,DAOibgDBApDBBicgcDBD,DBFiefontDBHpDBLidfidDBN);ALieTRUEDCN;}DDFALifFALSEDEA;}DEIALieTRUEDFC;}DFI
setGrafTextMode"87739 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;DB(4>idtcb4?p52ihnumargs54BN5<CM)ALifFALSE69;DB(74inBNRP_getValue75(82idtcb83p86ieargs88[8<CM],8?&91ibp92)BN95imBNRP_integer98)ALifFALSE:=;ibg;5=;7(;9ioGrafContextPtr;:)ibp<:.ieival<<;DB(=7inBNRP_getValue=8(>5idtcb>6p>9ieargs>;[>?CM],?2&?4ibp?5)BN?8ilBNRP_symbol?;)ALifFALSEA@O;DB(AAKigstrcmpAAL(ABBibpABC.idsymABE.iesvalABI,ABMs)BMACDCN)ibgACLpACMiitextModeACO=ADHigGXcopyADJ;DCDB(AEKigstrcmpAEL(AFBibpAFC.idsymAFE.iesvalAFI,AFMs)BMAGECN)ibgAGMpAGNiitextModeAH@=AHIiiGXinvertAHK;DCDB(AINigstrcmpAIO(AJEibpAJF.idsymAJH.iesvalAJL,AK@s)BMAKJCN)ibgALBpALCiitextModeALE=ALNihGXclearAM@;DCALifFALSEANF;ALieTRUEAOG;}AOM
getGrafTextMode"88264 N {ioGrafContextPtr27ibg36;ilBNRP_result3:ibp46;ijBNRP_term4:iemode54;DB(5?idtcb60p63ihnumargs65BN6=CM)ALifFALSE7:;DB(85inBNRP_getValue86(93idtcb94p97ieargs99[9=CM],:0&:2ibp:3)BN:6imBNRP_integer:9)ALifFALSE;>;ibg<6=<8(<:ioGrafContextPtr<;)ibp=;.ieival==;AM(>;ibg><p>=iitextMode>?){ACigGXcopyA@A:iemodeA@I=A@NipBNRP_makeSymbolAA@(AAOidtcbAB@,ABCs);AB;ACiiGXinvertACM:iemodeADG=ADLipBNRP_makeSymbolADN(AEMidtcbAEN,AFAs);AB;ACihGXclearAGL:iemodeAHE=AHJipBNRP_makeSymbolAHL(AIKidtcbAIL,AIOs);AB;AE:ALifFALSEALG;}ALOALikBNRP_unifyAMK(ANEidtcbANF,ANIidtcbANKpANNieargsAO@[AODCM],AOGiemodeAOI);}B@@
textWidth"88822 N {ilBNRP_result21ibp2=;ioGrafContextPtr31ibg40;DB(48idtcb49p4<ihnumargs4>BN56CM)ALifFALSE63;DB(6?inBNRP_getValue70(7=idtcb7>p81ieargs83[87CM],8:&8;ibp8<)BN8?imBNRP_integer92)ALifFALSE:7;ibg:?=;1(;3ioGrafContextPtr;4)ibp<3.ieival<5;DB(=0inBNRP_getValue=1(=>idtcb=?p>2ieargs>4[>8CM],>;&><ibp>=)BN?0ilBNRP_symbol?3)ALifFALSEA@G;DB(AABibgAACpAADiefontAAF)ALikBNRP_unifyABE(ABOidtcbAC@,ACCidtcbACEpACHieargsACJ[ACNCM],ADAiqBNRP_makeIntegerADK(AEKidtcbAEL,AEO(AFAEAn)ikXTextWidthAFL(AGFibgAGGpAGHiefontAGJ,AGNibpAH@.idsymAHB.iesvalAHF,AHJigstrlenAHL(AIBibpAIC.idsymAIE.iesvalAII))));DCALikBNRP_unifyAKC(AKMidtcbAKN,ALAidtcbALCpALFieargsALH[ALLCM],ALOigstrlenAMA(AMGibpAMH.idsymAMJ.iesvalAMN)*ANCCM);}ANK
textAbs"89364 N {ilBNRP_result1?ibp2;;ioGrafContextPtr2?ibg3>;nibx46,47iby48;DB(50idtcb51p54ihnumargs56BN5>CM)ALifFALSE6;;DB(76inBNRP_getValue77(84idtcb85p88ieargs8:[8>CM],91&93ibp94)BN97imBNRP_integer9:)ALifFALSE:?;ibg;7=;9(;;ioGrafContextPtr;<)ibp<<.ieival<>;DB(=8inBNRP_getValue=9(>6idtcb>7p>:ieargs><[?0CM],?3&?5ibp?6)BN?9imBNRP_integer?<)ALifFALSEAAA;ibxAAJ=AALibpAAN.ieivalAB@;DB(ABJinBNRP_getValueABK(ACHidtcbACIpACLieargsACN[ADBCM],ADE&ADGibpADH)BNADKimBNRP_integerADN)ALifFALSEAFC;ibyAFL=AFNibpAG@.ieivalAGB;DB(AGLinBNRP_getValueAGM(AHJidtcbAHKpAHNieargsAI@[AIDCM],AIG&AIIibpAIJ)BNAIMilBNRP_symbolAJ@)ALifFALSEAKD;DB(AKOibgAL@pALAiitextModeALCBMALLigGXcopyALO){iqXDrawImageStringAMK(ANKihdisplayANL,AOCibgAOEpAOFiedrawAOH,AOLibgAONpAOOicgcB@A,B@CibxB@E-B@FibgB@GpB@HieleftB@J,B@NibyBA@-BAAibgBABpBACidtopBAE,BAHibpBAJ.idsymBAL.iesvalBB@,BBDigstrlenBBF(BBLibpBBM.idsymBBO.iesvalBCC));}BCLDC{ilSetFunctionBDH(BECibgBEDpBEEicgcBEG,BEIibgBEKpBELiitextModeBEN);ilXDrawStringBFL(BGGihdisplayBGH,BGOibgBHApBHBiedrawBHD,BHHibgBHJpBHKicgcBHM,BHOibxBIA-BIBibgBICpBIDieleftBIF,BIJibyBIL-BIMibgBINpBIOidtopBJA,BJDibpBJF.idsymBJH.iesvalBJL,BK@igstrlenBKB(BKHibpBKI.idsymBKK.iesvalBKO));ilSetFunctionBLI(BMDibgBMEpBMFicgcBMH,BMJibgBMLpBMMiqcurrent_functionBMO);}BOCALieTRUEBON;}C@D
get_icon_value"90189 N {ilBNRP_result26ibp32;nihhashpos3<;igXImage46*4>ifimage4?;nibi5=,5>ibj5?;cibs69[6:ijICON_SIZE6;*74(75(76ijICON_SIZE77/80CM)+83CM)+86CM];c*92ietemp93;ENc*:8ibc:9;igPixmap:=ihiconmap;5;igioProc<2ieproc<>;EAiffileP>4;iiBNRP_tag><idtag?5;ciiiconfileA@G[A@OipBITMAP_NAMESIZEAA@];DB(ABGidtcbABHpABKihnumargsABMBNACECM)ALifFALSEADB;DB(ADMinBNRP_getValueADN(AEKidtcbAELpAEOieargsAFA[AFECM],AFH&AFJibpAFK)BNAFNimBNRP_integerAGA)ALifFALSEAHF;ihsprintfAIA(AIHiiiconfileAII,AJAs,AK@(AKAn)ibpAKF.ieivalAKH);ihhashposALC=ALJikget_bitmapALK(AMEiiiconfileAMF,AMN&AN@ihiconmapANA,ANHirDefaultRootWindowANJ(AOKihdisplayAOL));DB(B@NihhashposB@OBPBAGCN)imbitmap_tableBBE[BCAihhashposBCB].ijispatternBCK=BDDifFALSEBDE;DB(BECihhashposBED<BEL-BENCM)ALifFALSEBGA;idtagBGM=BHAinBNRP_getValueBHC(BI@idtcbBIApBIDieargsBIF[BIJCM],BIM&BIOibpBJ@);DB(BJMidtagBJNBMBKBijBNRP_listBKE){ijBNRP_termBLJielistBMF=BMKibpBMM.ietermBMO.iffirstBND;DB(BOFirBNRP_getNextValueBOG(C@H&C@IielistC@J,C@N&C@OibpCA@)BNCACimBNRP_integerCAF)ALifFALSECBK;iffilePCCJ=CD@(CDBEA)ibpCDI.ieivalCDK;DB(CELirBNRP_getNextValueCEM(CFN&CFOielistCG@,CGD&CGEibpCGF)BNCGIimBNRP_integerCGL)ALifFALSECIA;ieprocCJ@=CJE(CJGigioProcCJH)ibpCK@.ieivalCKB;}CKLDCDB(CLGidtagCLHBNCLLiiBNRP_varCLO)ALifFALSECN@;ifimageCNI=CNOijXGetImageCOA(COJihdisplayCOK,D@BihiconmapD@C,D@JCN,D@LCN,D@OijICON_SIZEDAA,DAJijICON_SIZEDAL,DBECM,DBHiiXYPixmapDBJ);ibcDCF=DCH(DCJENc*DDI)ifimageDDKpDE@iedataDEB;ietempDEI=DENibsDF@;AH(DFHibiDFI=DFJCN;ibiDFM<DFNijICON_SIZEDFO;ibiDGICEDGJ){AH(DHFibjDHG=DHHCN;ibjDHL<DHMifimageDHNpDICiobytes_per_lineDIE;ibjDJECEDJF){DB(DKBibjDKC<DKE(DKGijICON_SIZEDKH/DLACM)){ihsprintfDLL(DMCietempDMD,DMHs,DNA(DNCENc)~DOC(DOD*DOEibcDOF));ietempDOOBDE@CCM;}E@KibcEA@CEEAA;}EAGihsprintfEAK(EBBietempEBC,EBGs);ietempECACEECE;}ECJinXDestroyImageECM(EDJifimageEDK);DB(EEGihhashposEEHBMEF@-EFCCM)ilXFreePixmapEFG(EGBihdisplayEGC,EGJihiconmapEGK);DB(EHLidtagEHMBMEIAiiBNRP_varEID)ALikBNRP_unifyEJM(EKGidtcbEKH,EKKidtcbEKMpEL@ieargsELB[ELFCM],ELIipBNRP_makeSymbolELK(EMJidtcbEMK,EMNibsEMO));DC{(EODEP)(EOK*EOLieprocEOM)(F@BimOUTPUTSTRINGF@C,F@OiffilePFAA,FAFigSTRINGFAH,FANibsFB@,FBAs);}FBHALieTRUEFCE;}FCK
defaultbitmapdir"91846 N {ilBNRP_result2;iddir37;c*4;ihdirname4<;nidlen65;DB(72idtcb73p76ihnumargs78BN80CM)ALifFALSE8=;AM(;8inBNRP_getValue;9(<6idtcb<7p<:ieargs<<[=0CM],=3&=5iddir=6)){ACilBNRP_symbol>7:ihdirname?<=A@DiddirA@F.idsymA@J.iesvalA@N;idlenAAL=AB@igstrlenABB(ABHihdirnameABI);DB(ACNidlenACOBPADCCG(ADLiqbitmapSearchPathADM))ALifFALSEAGC;igstrcpyAJH(AJNiqbitmapSearchPathAJO,AKOihdirnameALA);idlenB@JCFB@N;AP(BB@(BBAidlenBBBBPBBFCN)BLBBL(BBOiqbitmapSearchPathBC@[BD@idlenBDA]BMBDFDA)){iqbitmapSearchPathBEM[BFMidlenBFN]=BGCDA;idlenBHGCFBHK;}BIGAB;ACiiBNRP_varBKA:ALifunifyBLJ(BLOidtcbBM@,BMCidtcbBMEpBMHieargsBMJ[BMNCM],BNAipBNRP_makeSymbolBNC(BOBidtcbBOC,BOFiqbitmapSearchPathBOH));AB;AE:ALifFALSECCG;}CDBALieTRUECDO;}CEE
BindPGrafPrimitives"92707 N {ininitialPixmap19=27inXCreatePixmap29(36ihdisplay37,3>irDefaultRootWindow3?(50ihdisplay51),59CM,5;CM,5=imDefaultDepth5>(6:ihdisplay6;,72inDefaultScreen73(80ihdisplay81)));irBNRPBindPrimitive8>(9?s,:<iiclone_GC:>);irBNRPBindPrimitive;:(<;s,=7ihfree_GC=9);irBNRPBindPrimitive>4(?5s,A@AihlineabsA@C);irBNRPBindPrimitiveA@N(AAOs,ABKihrectabsABM);irBNRPBindPrimitiveACH(ADIs,AEDigarcabsAEF);irBNRPBindPrimitiveAF@(AGAs,AGMihovalabsAGO);irBNRPBindPrimitiveAHJ(AIKs,AJIijforecolorAJK);irBNRPBindPrimitiveAKH(ALIs,AMJiminqforecolorAML);irBNRPBindPrimitiveANL(AOMs,B@KijbackcolorB@M);irBNRPBindPrimitiveBAJ(BBKs,BCLiminqbackcolorBCN);irBNRPBindPrimitiveBDN(BEOs,BFKihpenmodeBFM);irBNRPBindPrimitiveBGH(BHIs,BIHikinqpenmodeBIJ);irBNRPBindPrimitiveBJH(BKIs,BLFiicrectabsBLH);irBNRPBindPrimitiveBMD(BNEs,BOFilinqcrectabsBOH);irBNRPBindPrimitiveC@G(CAHs,CBEiirrectabsCBG);irBNRPBindPrimitiveCCC(CDDs,CE@ihpensizeCEB);irBNRPBindPrimitiveCEM(CFNs,CGMikinqpensizeCGO);irBNRPBindPrimitiveCHM(CINs,CK@inmulti_lineabsCKB);irBNRPBindPrimitiveCLC(CMDs,CMOigpenpatCNA);irBNRPBindPrimitiveCNK(COLs,D@JijinqpenpatD@L);irBNRPBindPrimitiveDAI(DBJs,DCFihbackpatDCH);irBNRPBindPrimitiveDDC(DEDs,DFCikinqbackpatDFE);irBNRPBindPrimitiveDGC(DHDs,DI@ihuserpatDIB);irBNRPBindPrimitiveDIM(DJNs,DKMikinquserpatDKO);irBNRPBindPrimitiveDLM(DMNs,DNJihfillpatDNL);irBNRPBindPrimitiveDOG(E@Hs,EAGikinqfillpatEAI);irBNRPBindPrimitiveEBG(ECHs,EDGikscrollrectEDI);irBNRPBindPrimitiveEEG(EFHs,EGEiieditbabsEGG);irBNRPBindPrimitiveEHC(EIDs,EJBijtextWidthEJD);irBNRPBindPrimitiveEKA(ELBs,ELOipsetGrafTextFontEMA);irBNRPBindPrimitiveEND(EOEs,F@BipsetGrafTextSizeF@D);irBNRPBindPrimitiveFAG(FBHs,FCEipsetGrafTextFaceFCG);irBNRPBindPrimitiveFDJ(FEKs,FFHipsetGrafTextModeFFJ);irBNRPBindPrimitiveFGM(FHNs,FINipgetGrafTextFontFJ@);irBNRPBindPrimitiveFKC(FLDs,FMDipgetGrafTextSizeFMF);irBNRPBindPrimitiveFNI(FOJs,G@JipgetGrafTextFaceG@L);irBNRPBindPrimitiveGAO(GC@s,GD@ipgetGrafTextModeGDB);irBNRPBindPrimitiveGEE(GFFs,GGBihtextAbsGGD);irBNRPBindPrimitiveGGO(GI@s,GILihiconabsGIN);irBNRPBindPrimitiveGJI(GKJs,GLFihpolygonGLH);irBNRPBindPrimitiveGMC(GNDs,GOHioget_icon_valueGOJ);irBNRPBindPrimitiveH@O(HB@s,HCCiqdefaultbitmapdirHCE);}HDH