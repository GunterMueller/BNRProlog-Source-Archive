
GetModifierInfo"3243 N {ijPAnyEvent15*1?icpe20=23(25ijPAnyEvent26*30)ilPrologEvent33;igWindow42ieroot51,55ifchild56,5;ifref_w5<;nigroot_x74,7:igroot_y7;,81ifwin_x82,87ifwin_y88;ENnimkeys_buttons:0;icpe=5p=7iewhen=9==>iyXtLastTimestampProcessed>0(?8ihdisplay?9);icpeAE@pAEBihcontrolAED=AELCN;icpeAFDpAFFifshiftAFH=AFNCN;icpeAGFpAGHiicapslockAGJ=AHCCN;icpeAHKpAHMigoptionAHO=AIFCN;icpeAINpAJ@ihcommandAJB=AJJCN;icpeAKBpAKDihmousegxAKF=AKNCN;icpeALFpALHihmousegyALJ=AMBCN;icpeAMJpAMLipmodifiers_validAMN=ANNifFALSEAO@;DB(AON(AOOicpeB@@pB@BigwindowB@DBNB@KieNULLB@N)BLBAD(BANicpeBAOpBBAigwindowBBCpBBIietypeBBKBNBC@igunusedBCC)BLBCK(BDEinXQueryPointerBDF(BECihdisplayBED,BEK(BFBicpeBFCpBFEigwindowBFGpBFMietypeBFOBMBGDifpgrafBGG)?iiXtWindowBH@(BHH(BHI(BHJilPGrafWindowBHK*BIG)icpeBIIpBIKigwindowBIM)pBJDigcanvasBJF):iiXtWindowBKN(BLF(BLG(BLHilPTextWindowBLI*BME)icpeBMGpBMIigwindowBMK)pBNBietextBND),BNI&C@@ierootC@A,C@E&C@FifchildC@G,C@L&C@Nigroot_xC@O,CAE&CAFigroot_yCAG,CAM&CCDifwin_xCCE,CCJ&CCKifwin_yCCL,CDA&CDCimkeys_buttonsCDD))){icpeCIMpCIOipmodifiers_validCJA=CKAieTRUECKC;icpeCLApCLCihcontrolCLE=CLM(CLO(CM@ilControlMaskCMA&CMMimkeys_buttonsCMO)BMCNMilControlMaskCO@);icpeD@GpD@IifshiftD@K=DAA(DAC(DADijShiftMaskDAE&DAOimkeys_buttonsDBA)BMDBOijShiftMaskDCB);icpeDDGpDDIiicapslockDDK=DED(DEF(DEGiiLockMaskDEH&DFAimkeys_buttonsDFC)BMDGAiiLockMaskDGD);icpeDHHpDHJihcommandDHL=DID(DIF(DIGiiMod1MaskDIH&DJAimkeys_buttonsDJC)BMDKAiiMod1MaskDKD);icpeDLHpDLJigoptionDLL=DMC(DME(DMFiiMod2MaskDMG&DN@imkeys_buttonsDNB)BMDO@iiMod2MaskDOC);icpeE@GpE@IihmouseupE@K=EAC!EAEilButton1DownEAF;icpeEBKpEBMihmousegxEBO=ECGigroot_xECI;icpeEDIpEDKihmousegyEDM=EEEigroot_yEEG;}ELNDB(FDCicpeFDDpFDFietypeFDHBMFDMikuserupidleFE@){ioPUserIdleEventFFE*FGDicieFGE=FGH(FGJioPUserIdleEventFGK*FHJ)icpeFHM;DB(FILicieFIMpFIOipmodifiers_validFJA){icieFKMpFKOietypeFLA=FLF(FLHilButton1DownFLI)?imuserdownidleFMF:ikuserupidleFNC;icieFOKpFOMihmouselxFOO=G@Gifwin_xG@I;icieGAKpGAMihmouselyGAO=GBGifwin_yGBI;}GCJDC{icieGEEpGEGihmouselxGEI=GFACN;icieGGBpGGDihmouselyGGF=GGNCN;}GHM}GIG}GII
memberEditExitSet"5286 N {iieditExit6=*76icpe77;AH(87icpe88=8:ileditExitSet8;;icpe98<9:(9;ileditExitSet9<+:7imnumExitChars:8);icpe;7CE;9){DB(=2(=3(=4idnum=5BM=9CM)BL=?icpe>2p>4ifascii>6BL><(A@DigbufferA@E[A@KCN]BMA@OicpeAABpAADibuAAF.ilascii_valueAAH))BKABF(ACM(ACNidnumACO>ADCCM)BLADH(ADK!ADLicpeADMpADOifasciiAEA)BLAEH(AG@igkeysymAGABMAGHicpeAGKpAGMibuAGO.igkeysymAHA)))ALieTRUEAJJ;}AKHALifFALSEALI;}AM@
KeyPressCB"5812 N {cigbuffer69[6?CM];igKeySym:9igkeysym;4;nidnum<:;inPUserKeyEvent=2*>0icpe>1=>4(>6inPUserKeyEvent>7*?5)ilPrologEvent?7;DB(AAEibwAAF);idnumABF=ABJinXLookupStringABL(ACIifeventACJ,ACOigbufferAD@,ADFCG(ADMigbufferADN),AEE&AEFigkeysymAEG,AEMieNULLAEN);igbufferAFH[AFNidnumAFO]=AGDDA;DB(AIAikDebugTraceAIB){igprintfAJE(AJKs,AMMifeventAOHpAOMihkeycodeAOO,B@FigkeysymB@G,B@MidnumB@N);DB(BANigbufferBAO[BBECN]<BBIDA)igprintfBCJ(BD@s,BEAigbufferBEC[BEICN]);DCDB(BGHidnumBGIBMBGMCM)igprintfBI@(BIFs,BJJigbufferBJL[BKBCN],BKEigbufferBKF[BKLCN]);DCigprintfBMN(BNDs,BOCigbufferBOD);}C@CDB(CAHidnumCAI>CAMCN){DB(CCHigbufferCCI[CCOCN]BMCDCDA)iekillCFE(CFIiggetpidCFJ(CG@),CGBigSIGINTCGC);DC{icpeCMJpCMLietypeCMN=CNCihuserkeyCNE;icpeD@FpD@HigwindowD@J=DAAigwindowDAC;igstrcpyDCC(DCIicpeDCJpDCLigsymbolDCN,DDDigbufferDDE);icpeDFFpDFHiewhenDFJ=DFOifeventDGApDGFietimeDGH;icpeDIFpDIHipmodifiers_validDIJ=DJJifeventDJLpDKAilsame_screenDKC;icpeDMHpDMJihmousegxDML=DNDifeventDNFpDNKigx_rootDNM;icpeE@MpE@OihmousegyEAA=EAIifeventEAKpEB@igy_rootEBB;icpeEC@pECBihcontrolECD=ECL(ECNifeventECOpEDDifstateEDF&EDLilControlMaskEDN)BMEEKilControlMaskEEN;icpeEHCpEHEiicapslockEHG=EI@(EIBifeventEICpEIHifstateEIJ&EJ@iiLockMaskEJB)BMEJLiiLockMaskEJO;icpeEMApEMCifshiftEME=EMK(EMMifeventEMNpENCifstateENE&ENKijShiftMaskENM)BMEOHijShiftMaskEOK;icpeF@LpF@NihcommandFA@=FAH(FAJifeventFAKpFB@ifstateFBB&FBHiiMod1MaskFBJ)BMFCDiiMod1MaskFCG;icpeFDGpFDIigoptionFDK=FEB(FEDifeventFEEpFEJifstateFEL&FFBiiMod2MaskFFD)BMFFNiiMod2MaskFGA;icpeFICpFIEihmouseupFIG=FIO(FJAifeventFJBpFJGifstateFJI&FJOilButton1MaskFKA)BMFKNCN;DB(HHJintextEditStateHHK)intextEditStateHKF=HLD!HLFirmemberEditExitSetHLG(HMHidnumHMI,HMLigbufferHMN,HNDigkeysymHNF);}HOO}I@I}I@K
TrackButtonState"8209 N {DB(30(31ifevent32p37ietype39BM3>ilButtonPress41)BK4>(51ifevent52p57ietype59BM5>inButtonRelease61)){ilButton1Down75=81(83ifevent84p89ietype8;BM90ilButtonPress93);DB(;4ikDebugTrace;5)igprintf<5(<;ilButton1Down<<?s:s);}A@K}A@N
userevent"8660 N {ilBNRP_result24ibp30;igXEvent34ifevent40;nibi54;igXEvent58ilExposeEvent64;ilPGrafWindow72*7>icgw7?;EHimnoMapPrinted:;=;8ieTRUE;:;ijheap_info<1=<;iimallinfo<=(=5);DB(==(=>ijheap_info=?.ifarena>9>>?CM)BL?:imnoMapPrinted?=){ijmallocmapA@O(AAH);imnoMapPrintedAAN=ABKifFALSEABM;}ACEDB(ADBikDebugTraceADC)igprintfADO(AEEs,AGCidtcbAGDpAGGihnumargsAGI);itTerminateGrafUpdateAKN(AMA);irPollScrapContentsB@A(BAB);DB(BM@iuInvalidrectGeneratedBMA){iuInvalidrectGeneratedBNK=C@@ifFALSEC@B;AH(C@OicgwCA@=CAC(CAEilPGrafWindowCAF*CBB)ijwindowtabCBD;icgwCBOBNCCBieNULLCCE;icgwCCK=CCN(CD@ilPGrafWindowCDA*CDM)icgwCDOpCEAilnext_windowCEC){DB(CFH(CFIicgwCFJpCFLietypeCFNBMCGCifpgrafCGF)BLCGM(CH@icgwCHApCHCilinvalidrectCHE)){icgwCIIpCIKilinvalidrectCIM=CJIifFALSECJK;ilExposeEventCKF.ihxexposeCLB.ietypeCLJ=CLOigExposeCMA;ilExposeEventCMM.ihxexposeCNI.igserialCOA=COHCN;ilExposeEventDB@.ihxexposeDBL.iksend_eventDCD=DCOieTRUEDDA;ilExposeEventDDK.ihxexposeDEG.ihdisplayDEO=DFGihdisplayDFI;ilExposeEventDGF.ihxexposeDHB.igwindowDHJ=DIAiiXtWindowDIC(DIKicgwDILpDINigcanvasDJ@);ilExposeEventDJM.ihxexposeDKI.ifcountDLA=DLGCN;ilExposeEventDM@.ihxexposeDML.ibxDND=DNFilExposeEventDNH.ihxexposeDOD.ibyDOL=DONilExposeEventE@F.ihxexposeEAB.ifwidthEAJ=EB@ilExposeEventEBB.ihxexposeEBN.igheightECF=ECMCN;DB(EEFikDebugTraceEEG)igprintfEFH(EFNs,EJNicgwEKFpEKHikwindownameEKJ,ELDilExposeEventELL.ihxexposeEMH.ibxEN@,ENAilExposeEventENB.ihxexposeENN.ibyEOF,EOGilExposeEventEOO.ihxexposeF@K.ifwidthFAC,FAHilExposeEventFAI.ihxexposeFBE.igheightFBM);ikXSendEventFDA(FDKihdisplayFDL,FECilExposeEventFED.ihxexposeFF@.igwindowFFH,FFNieTRUEFFO,FGCimExposureMaskFGD,FH@&FHAilExposeEventFHB);}FIC}FIG}FIJilPrologEventFINpFJIietypeFJK=FK@ihunknownFKB;AH(FLC;;){DB(FOMidtcbFONpG@AihnumargsG@CBMG@KCM){ioXtAppNextEventGBJ(GCHilapp_contextGCI,GDD&GDEifeventGDF);DB(GGAilXEventTraceGGB)ikTraceEventGGO(GHI&GHJifeventGHK);iqTrackButtonStateGKL(GLL&GLMifeventGLN);ipXtDispatchEventGMJ(GNI&GNJifeventGNK);}GOEDCDB(H@A(H@BidtcbH@CpH@FihnumargsH@HBMHA@CM)BLHAF(HAMinBNRP_getValueHAN(HBKidtcbHBLpHBOieargsHCA[HCECM],HCH&HCIibpHCJ)BMHCMilBNRP_symbolHD@)BLHDM(HEDigstrcmpHEE(HEKibpHEL.idsymHEN.iesvalHFB,HFFs)BMHGBCN)){nigevMaskHII=HJ@imXtAppPendingHJB(HJNilapp_contextHJO);DB(HLCigevMaskHLD&HLKikXtIMXEventHLM){ioXtAppNextEventIAB(IB@ilapp_contextIBA,IBL&IBMifeventIBN);DB(IDJilXEventTraceIDK)ikTraceEventIEH(IFB&IFCifeventIFD);iqTrackButtonStateIIG(IJG&IJHifeventIJI);ipXtDispatchEventIKF(ILE&ILFifeventILG);}J@GDC{ioPUserIdleEventJCM*JDLicpeJDM=JE@(JEBioPUserIdleEventJEC*JFB)ilPrologEventJFE;DB(JGIigevMaskJGJBNJHACN)irXtAppProcessEventJKK(JLLilapp_contextJLM,JMHijXtIMTimerJMJ|JNDisXtIMAlternateInputJNF);icpeKCDpKCFietypeKCH=KCMikuserupidleKCO;icpeKE@pKEBigwindowKED=KEK(KEMikPAnyWindowKEN*KFI)imfocus_windowKFK;ipGetModifierInfoKKB(KLA);}KLH}KLLDC{DB(KOMikDebugTraceKON){AH(LADibiLAE=LAFCM;ibiLAJBOLAKidtcbLAMpLB@ihnumargsLBB;ibiLBKCELBL){imBNRP_dumpArgLCG(LDCigstdoutLDD,LDJidtcbLDL,LDOidtcbLE@pLECieargsLEE[LEIibiLEJ]);igprintfLEO(LFEs);igprintfLGB(LGHs);}LIC}LIHAL(LKCifFALSELKD);}LKNDB(MALiqPrologEventTraceMAMBKMBNipPrologIdleTraceMCA)iqTracePrologEventMDB(MEB);AM(MFFilPrologEventMFGpMGBietypeMGD){ACihunknownMHD:AB;ACihuserkeyMJA:ACikuserupidleMKC:ACimuserdownidleMLD:ACilusermouseupMMK:ACinusermousedownMNM:ACikmenuselectN@E:ACikuserupdateNAJ:ACijusercloseNBO:ACikuserresizeNDC:ACiouserrepositionNEH:ACimscrapchangedNGA:imLastPrologEvNHD=NIAiiPrologEvNIC;ALirFormatPrologEventNJH(NKIidtcbNKJ,NKMCM,NKOilPrologEventNL@);ACimuseractivateNMG:ACiouserdeactivateNNJ:{isPUserActivateEventO@@*OACicpeOAD=OAG(OAIisPUserActivateEventOAJ*OBM)ilPrologEventOC@;isPUserActivateEventODA*OEDidlpeOEE=OEI(OEKisPUserActivateEventOEL*OFO)ipLastPrologEventOGB;DB(OLI(OLJidlpeOLKpOLNietypeOM@BMOMEicpeOMHpOMJietypeOML)BLONB(ONEidlpeONFpONIigwindowONKBMOOBicpeOOEpOOGigwindowOOI)){DB(QPQZiqPrologEventTraceQPQ[)igprintfQPR](QPSSs);AB;}QPVUDCimLastPrologEvQPWU=QPXRiiPrologEvQPXT;ALirFormatPrologEventQPYZ(QPZ[idtcbQPZ\,QPZ_CM,QP[QilPrologEventQP[R);}QP\SAE:AB;}QP][}QQWUAL(QQYSifFALSEQQYT);}QQY\
FormatPrologEvent"13298 N {AM(6<igpevent6=p73ietype75){ACihunknown86:ALifFALSE:0;ACihuserkey;3:{inPUserKeyEvent<8*=6icpe=7==:(=<inPUserKeyEvent==*>;)igpevent>>;AL(A@GikBNRP_unifyA@H(AABidtcbAAC,AAFidtcbAAGpAAJieargsAAL[AB@igargnumABA],ABHimusereventsymABI[ACE(ACFn)ihuserkeyACL])BLADFikBNRP_unifyAEK(AFEidtcbAFF,AFIidtcbAFJpAFMieargsAFO[AGCigargnumAGD+AGJCM],AGMipBNRP_makeSymbolAHK(AIJidtcbAIK,AINicpeAJ@pAJBigwindowAJDpAJJikwindownameAJL))BLAKIikBNRP_unifyALN(AMHidtcbAMI,AMLidtcbAMMpAN@ieargsANB[ANFigargnumANG+ANMCM],AO@ipBNRP_makeSymbolBAC(BBBidtcbBBC,BBFicpeBBGpBBIigsymbolBBK))BLBCDikBNRP_unifyBDI(BECidtcbBED,BEGidtcbBEHpBEKieargsBEM[BFAigargnumBFB+BFHCM],BFKinBNRP_makeListBHN(BIKidtcbBIL,BIOCM,BJAiqBNRP_makeIntegerBLG(BMGidtcbBMH,BMK(BMLEAn)icpeBNFpBNHihcontrolBNJ),BOBiqBNRP_makeIntegerCAH(CBHidtcbCBI,CBL(CBMEAn)icpeCCGpCCIigoptionCCK),CDBiqBNRP_makeIntegerCFH(CGHidtcbCGI,CGL(CGMEAn)icpeCHGpCHIiicapslockCHK),CIDiqBNRP_makeIntegerCKJ(CLJidtcbCLK,CLN(CLOEAn)icpeCMIpCMKifshiftCMM),CNCiqBNRP_makeIntegerD@I(DAIidtcbDAJ,DAM(DANEAn)icpeDBHpDBJihcommandDBL),DCDiqBNRP_makeIntegerDEJ(DFJidtcbDFK,DFN(DFOEAn)icpeDGIpDGKihmouseupDGM))));}DICACikuserupidleDJB:ACimuserdownidleDKC:{ioPUserIdleEventDLM*DMLicpeDMM=DN@(DNBioPUserIdleEventDNC*DOB)igpeventDOE;AL(E@NikBNRP_unifyE@O(EAIidtcbEAK,EANidtcbEAOpEBBieargsEBD[EBHigargnumEBI],EC@imusereventsymECB[ECN(ECOn)icpeEDEpEDGietypeEDI])BLEE@ikBNRP_unifyEFF(EG@idtcbEGA,EGDidtcbEGEpEGHieargsEGJ[EGNigargnumEGO+EHECM],EHHipBNRP_makeSymbolEIO(EJNidtcbEJO,EKB(EKDicpeEKEpEKGigwindowEKIBMEL@ieNULLELC)?s:icpeEMDpEMFigwindowEMHpEMNikwindownameEN@))BLENMikBNRP_unifyF@B(F@LidtcbF@M,FA@idtcbFAApFADieargsFAF[FAJigargnumFAK+FBACM],FBDiqBNRP_makeIntegerFDC(FECidtcbFED,FEG(FEHEAn)icpeFFBpFFDihmouselxFFF))BLFG@ikBNRP_unifyFHI(FICidtcbFID,FIGidtcbFIHpFIKieargsFIM[FJAigargnumFJB+FJHCM],FJKiqBNRP_makeIntegerFLJ(FMJidtcbFMK,FMN(FMOEAn)icpeFNIpFNKihmouselyFNM)));}G@BACilusermouseupGA@:ACinusermousedownGBB:{ipPUserMouseEventGCM*GDMicpeGDN=GEA(GECipPUserMouseEventGED*GFD)igpeventGFG;AL(GH@ikBNRP_unifyGHA(GHKidtcbGHM,GI@idtcbGIApGIDieargsGIF[GIJigargnumGIK],GJBimusereventsymGJD[GK@(GKAn)icpeGKGpGKIietypeGKK])BLGLBikBNRP_unifyGMH(GNBidtcbGNC,GNFidtcbGNGpGNJieargsGNL[GO@igargnumGOA+GOGCM],GOJipBNRP_makeSymbolHAA(HB@idtcbHBA,HBD(HBFicpeHBGpHBIigwindowHBKBMHCBieNULLHCE)?s:icpeHDFpHDHigwindowHDJpHE@ikwindownameHEB))BLHEOikBNRP_unifyHGD(HGNidtcbHGO,HHBidtcbHHCpHHFieargsHHH[HHLigargnumHHM+HICCM],HIFiqBNRP_makeIntegerHKE(HLEidtcbHLF,HLI(HLJEAn)icpeHMDpHMFihmouselxHMH))BLHNBikBNRP_unifyHOK(I@EidtcbI@F,I@IidtcbI@JpI@MieargsI@O[IACigargnumIAD+IAJCM],IAMiqBNRP_makeIntegerICL(IDLidtcbIDM,IE@(IEAEAn)icpeIEKpIEMihmouselyIEO)));}IGDACikmenuselectIHB:{iqPMenuSelectEventIIJ*IJKicpeIJL=IJO(IKAiqPMenuSelectEventIKB*ILC)igpeventILF;AL(IMOikBNRP_unifyIN@(INJidtcbINL,INOidtcbIO@pIOCieargsIOE[IOIigargnumIOJ],J@AimusereventsymJ@C[J@O(JA@n)ikmenuselectJAF])BLJBCikBNRP_unifyJCH(JDBidtcbJDC,JDFidtcbJDGpJDJieargsJDL[JE@igargnumJEA+JEGCM],JEJipBNRP_makeSymbolJGA(JH@idtcbJHA,JHD(JHFicpeJHGpJHIigwindowJHKBMJIBieNULLJIE)?s:icpeJJFpJJHigwindowJJJpJK@ikwindownameJKB))BLJKOikBNRP_unifyJMD(JMNidtcbJMO,JNBidtcbJNCpJNFieargsJNH[JNLigargnumJNM+JOCCM],JOFipBNRP_makeSymbolJOH(K@GidtcbK@H,K@KicpeK@LpK@NiemenuKA@))BLKAGikBNRP_unifyKC@(KCJidtcbKCK,KCNidtcbKCOpKDBieargsKDD[KDHigargnumKDI+KDOCM],KEBipBNRP_makeSymbolKEC(KFBidtcbKFC,KFFicpeKFGpKFIieitemKFK)));}KGMACimuseractivateKHM:ACiouserdeactivateKJ@:{isPUserActivateEventKKL*KLOicpeKM@=KMC(KMEisPUserActivateEventKMF*KNI)igpeventKNL;AL(L@EikBNRP_unifyL@F(LA@idtcbLAA,LADidtcbLAEpLAHieargsLAJ[LANigargnumLAO],LBFimusereventsymLBH[LCD(LCEn)icpeLCKpLCMietypeLCO])BLLDFikBNRP_unifyLEK(LFEidtcbLFF,LFIidtcbLFJpLFMieargsLFO[LGCigargnumLGD+LGJCM],LGMipBNRP_makeSymbolLID(LJCidtcbLJD,LJG(LJIicpeLJJpLJLigwindowLJNBMLKEieNULLLKH)?s:icpeLLIpLLKigwindowLLMpLMCikwindownameLME)));}LNMACikuserupdateLOK:{iqPUserUpdateEventMAC*MBDicpeMBE=MBH(MBJiqPUserUpdateEventMBK*MCL)igpeventMCO;AL(MEHikBNRP_unifyMEI(MFCidtcbMFE,MFHidtcbMFIpMFLieargsMFN[MGBigargnumMGC],MGJimusereventsymMGL[MHH(MHIn)ikuserupdateMHO])BLMILikBNRP_unifyMKA(MKKidtcbMKL,MKOidtcbML@pMLCieargsMLE[MLIigargnumMLJ+MM@CM],MMCipBNRP_makeSymbolMNJ(MOIidtcbMOJ,MOM(MOOicpeN@@pN@BigwindowN@DBMN@KieNULLN@N)?s:icpeNAOpNBAigwindowNBCpNBIikwindownameNBK)));}NDCACijusercloseNEA:{ipPUserCloseEventNFH*NGHicpeNGI=NGL(NGNipPUserCloseEventNGO*NHO)igpeventNIB;AL(NJKikBNRP_unifyNJL(NKFidtcbNKH,NKKidtcbNKLpNKOieargsNLA[NLEigargnumNLF],NLMimusereventsymNLO[NMK(NMLn)ijusercloseNNB])BLNNNikBNRP_unifyO@C(O@MidtcbO@N,OAAidtcbOABpOAEieargsOAG[OAKigargnumOAL+OBBCM],OBEipBNRP_makeSymbolOCL(ODKidtcbODL,ODO(OEAicpeOEBpOEDigwindowOEFBMOEMieNULLOF@)?s:icpeOGApOGCigwindowOGEpOGKikwindownameOGM))BLOHJikBNRP_unifyOIO(OJIidtcbOJJ,OJMidtcbOJNpOKAieargsOKC[OKGigargnumOKH+OKNCM],OLAiqBNRP_makeIntegerON@(OO@idtcbOOA,OOD(OOEEAn)icpeP___pQPPQihmousegxQPPS))BLQPP]ikBNRP_unifyQPRR(QPR\idtcbQPR],QPSPidtcbQPSQpQPSTieargsQPSV[QPSZigargnumQPS[+QPTQCM],QPTTiqBNRP_makeIntegerQPVS(QPWSidtcbQPWT,QPWW(QPWXEAn)icpeQPXRpQPXTihmousegyQPXV)));}QPY\ACikuserresizeQPZZ:{iqPUserResizeEventQP\R*QP]SicpeQP]T=QP]W(QP]YiqPUserResizeEventQP]Z*QP^[)igpeventQP^^;AL(QQPWikBNRP_unifyQQPY(QQQSidtcbQQQT,QQQWidtcbQQQXpQQQ[ieargsQQQ][QQRQigargnumQQRR],QQRYimusereventsymQQR[[QQSW(QQSXn)ikuserresizeQQS^])BLQQT[ikBNRP_unifyQQVQ(QQV[idtcbQQV\,QQV_idtcbQQWPpQQWSieargsQQWU[QQWYigargnumQQWZ+QQXPCM],QQXSipBNRP_makeSymbolQQYZ(QQZYidtcbQQZZ,QQZ](QQZ_icpeQQ[PpQQ[RigwindowQQ[TBMQQ[[ieNULLQQ[^)?s:icpeQQ\_pQQ]QigwindowQQ]SpQQ]YikwindownameQQ][))BLQQ^XikBNRP_unifyQQ_^(QRPXidtcbQRPY,QRP\idtcbQRP]pQRQPieargsQRQR[QRQVigargnumQRQW+QRQ]CM],QRRPiqBNRP_makeIntegerQRTP(QRUPidtcbQRUQ,QRUT(QRUUEAn)icpeQRU_pQRVQifwidthQRVS))BLQRV[ikBNRP_unifyQRXQ(QRX[idtcbQRX\,QRX_idtcbQRYPpQRYSieargsQRYU[QRYYigargnumQRYZ+QRZPCM],QRZSiqBNRP_makeIntegerQR\T(QR]TidtcbQR]U,QR]X(QR]YEAn)icpeQR^SpQR^UigheightQR^W)));}QR_[ACiouserrepositionQSPY:{iuPUserRepositionEventQSRU*QSSZicpeQSS[=QSS^(QSTPiuPUserRepositionEventQSTQ*QSUV)igpeventQSUY;AL(QSWRikBNRP_unifyQSWS(QSW]idtcbQSW^,QSXQidtcbQSXRpQSXUieargsQSXW[QSX[igargnumQSX\],QSYSimusereventsymQSYU[QSZQ(QSZRn)iouserrepositionQSZX])BLQS[YikBNRP_unifyQS\^(QS]XidtcbQS]Y,QS]\idtcbQS]]pQS^PieargsQS^R[QS^VigargnumQS^W+QS^]CM],QS_PipBNRP_makeSymbolQTPW(QTQVidtcbQTQW,QTQZ(QTQ\icpeQTQ]pQTQ_igwindowQTRQBMQTRXieNULLQTR[)?s:icpeQTS\pQTS^igwindowQTTPpQTTVikwindownameQTTX))BLQTUUikBNRP_unifyQTVZ(QTWTidtcbQTWU,QTWXidtcbQTWYpQTW\ieargsQTW^[QTXRigargnumQTXS+QTXYCM],QTX\iqBNRP_makeIntegerQTZ[(QT[[idtcbQT[\,QT[_(QT\PEAn)icpeQT\ZpQT\\iileftedgeQT\^))BLQT]YikBNRP_unifyQT^^(QT_XidtcbQT_Y,QT_\idtcbQT_]pQUPPieargsQUPR[QUPVigargnumQUPW+QUP]CM],QUQPiqBNRP_makeIntegerQUSP(QUTPidtcbQUTQ,QUTT(QUTUEAn)icpeQUT_pQUUQihtopedgeQUUS)));}QUVYACimscrapchangedQUWW:{isPScrapChangedEventQUYQ*QUZTicpeQUZU=QUZX(QUZZisPScrapChangedEventQUZ[*QU[^)igpeventQU\Q;ALikBNRP_unifyQU][(QU^UidtcbQU^V,QU^YidtcbQU^ZpQU^]ieargsQU^_[QU_SigargnumQU_T],QU_[imusereventsymQU_][QVPY(QVPZn)imscrapchangedQVQP]);}QVR[AE:ALifFALSEQVTU;}QVUPALifFALSEQVU];}QVWW
lasteventdata"19257 N {ijPAnyEvent29*33icpe34=37(39ijPAnyEvent3:*44)ilPrologEvent46;DB(68ikDebugTrace69)igprintf75(7;s);DB(:3idtcb:4p:7ihnumargs:9BN;1CM)AL(<3ifFALSE<4);AL(=7ikBNRP_unify=8(>2idtcb>3,>6idtcb>7p>:ieargs><[?0CM],?3imusereventsym?4[A@@(A@An)icpeA@GpA@IietypeA@K])BLAABikBNRP_unifyAB@(ABJidtcbABK,ABNidtcbABOpACBieargsACD[ACHCM],ACKipBNRP_makeSymbolAEB(AFAidtcbAFB,AFE(AFGicpeAFHpAFJigwindowAFLBMAGCieNULLAGF)?s:icpeAHGpAHIigwindowAHKpAIAikwindownameAIC))BLAJ@ikBNRP_unifyAJN(AKHidtcbAKI,AKLidtcbAKMpAL@ieargsALB[ALFCM],ALIinBNRP_makeListANA(ANNidtcbANO,AOBCM,AODiqBNRP_makeIntegerBAJ(BBJidtcbBBK,BBN(BBOEAn)icpeBCIpBCKihmousegxBCM),BDEiqBNRP_makeIntegerBFK(BGKidtcbBGL,BGO(BH@EAn)icpeBHJpBHLihmousegyBHN)))BLBIIikBNRP_unifyBJG(BKAidtcbBKB,BKEidtcbBKFpBKIieargsBKK[BKOCM],BLBiqBNRP_makeIntegerBLC(BMCidtcbBMD,BMG(BMHEAn)icpeBNBpBNDiewhenBNF))BLBNMikBNRP_unifyBOK(C@EidtcbC@F,C@IidtcbC@JpC@MieargsC@O[CACCM],CAFinBNRP_makeListCBN(CCKidtcbCCL,CCOCM,CDAiqBNRP_makeIntegerCFG(CGGidtcbCGH,CGK(CGLEAn)icpeCHFpCHHihcontrolCHJ),CIBiqBNRP_makeIntegerCKH(CLHidtcbCLI,CLL(CLMEAn)icpeCMGpCMIigoptionCMK),CNBiqBNRP_makeIntegerD@H(DAHidtcbDAI,DAL(DAMEAn)icpeDBGpDBIiicapslockDBK),DCDiqBNRP_makeIntegerDEJ(DFJidtcbDFK,DFN(DFOEAn)icpeDGIpDGKifshiftDGM),DHCiqBNRP_makeIntegerDJI(DKIidtcbDKJ,DKM(DKNEAn)icpeDLHpDLJihcommandDLL),DMDiqBNRP_makeIntegerDOJ(E@JidtcbE@K,E@N(E@OEAn)icpeEAIpEAKihmouseupEAM))));}EBJ
TracePrologEvent"20601 N {AM(22ilPrologEvent23p2>ietype30){ACihunknown43:AB;ACihuserkey:;:{inPUserKeyEvent<0*<>icpe<?==2(=4inPUserKeyEvent=5*>3)ilPrologEvent>6;igprintf@OO(A@Es,AADicpeAAEpAAGigwindowAAIpAAOikwindownameABA);DB(ACLicpeACMpACOigsymbolADA[ADGCN]BPADKDA)igprintfAFA(AFGs,AFNicpeAFOpAGAigsymbolAGC);DCigprintfAIJ(AJ@s,AJHicpeAJIpAJKigsymbolAJM[AKCCN]);DB(ALGicpeALHpALJihcontrolALL)igprintfAME(AMKs);DB(AOGicpeAOHpAOJigoptionAOL)igprintfB@D(B@Js);DB(BBEicpeBBFpBBHiicapslockBBJ)igprintfBCD(BCJs);DB(BEGicpeBEHpBEJifshiftBEL)igprintfBFC(BFIs);DB(BHCicpeBHDpBHFihcommandBHH)igprintfBIA(BIGs);DB(BKC!BKD(BKEicpeBKFpBKHihmouseupBKJ))igprintfBLD(BLJs);igprintfBNE(BNKs);AB;}C@OACikuserupidleCBI:ACimuserdownidleCCJ:{ioPUserIdleEventCEE*CFDicpeCFE=CFH(CFJioPUserIdleEventCFK*CGJ)ilPrologEventCGM;DB(CIIipPrologIdleTraceCIJ){DB(CKNicpeCKOpCLAietypeCLCBMCLHikuserupidleCLK)igprintfCNJ(CO@s);DCigprintfDBJ(DC@s);DB(DEGicpeDEHpDEJigwindowDELBMDFCieNULLDFF)igprintfDGO(DHEs);DCigprintfDKI(DKOs,DLFicpeDLGpDLIigwindowDLKpDMAikwindownameDMC);igprintfDOA(DOGs,E@DicpeE@EpE@GihmouselxE@I,EA@icpeEAApEACihmouselyEAE);}EBNAB;}EDLACilusermouseupEEL:ACinusermousedownEFN:{ipPUserMouseEventEHJ*EIJicpeEIK=EIN(EJ@ipPUserMouseEventEJA*EKA)ilPrologEventEKD;DB(EMAicpeEMBpEMDietypeEMFBMEMKilusermouseupEMN)igprintfEOK(F@As);DCigprintfFCE(FCKs);DB(FEOicpeFF@pFFBigwindowFFDBMFFKieNULLFFN)igprintfFHD(FHJs);DCigprintfFKG(FKMs,FLDicpeFLEpFLGigwindowFLIpFLOikwindownameFMA);igprintfFNK(FOAs,FONicpeFOOpG@AihmouselxG@C,G@JicpeG@KpG@MihmouselyG@O);AB;}GCFACimuseractivateGE@:ACiouserdeactivateGFC:{isPUserActivateEventGGN*GIAicpeGIB=GIE(GIGisPUserActivateEventGIH*GJK)ilPrologEventGJN;DB(GLJicpeGLKpGLMietypeGLOBMGMDimuseractivateGMG)igprintfGOC(GOIs);DCigprintfHBK(HCAs);igprintfHEB(HEHs,HEOicpeHF@pHFBigwindowHFDpHFJikwindownameHFL);AB;}HIDACikmenuselectHIM:{iqPMenuSelectEventHJL*HKMicpeHKN=HLA(HLCiqPMenuSelectEventHLD*HME)ilPrologEventHMH;igprintfHNJ(HO@s,I@IicpeI@JpI@LigwindowI@NpIADikwindownameIAF,IB@icpeIBApIBCiemenuIBE,IBIicpeIBJpIBLieitemIBN);AB;}IDAACikuserupdateIEA:{iqPUserUpdateEventIFH*IGIicpeIGJ=IGM(IGOiqPUserUpdateEventIH@*IIA)ilPrologEventIID;igprintfIJM(IKCs);DB(IMCicpeIMDpIMFigwindowIMHBMIMOieNULLINB)igprintfIOF(IOLs);DCigprintfJBF(JBLs,JCCicpeJCDpJCFigwindowJCHpJCNikwindownameJD@);AB;}JFHACijusercloseJGH:{ipPUserCloseEventJHN*JINicpeJIO=JJB(JJDipPUserCloseEventJJE*JKE)ilPrologEventJKH;igprintfJMA(JMGs);DB(JOFicpeJOGpJOIigwindowJOKBMK@BieNULLK@E)igprintfKAI(KAOs);DCigprintfKDH(KDNs,KECicpeKEDpKEFigwindowKEHpKENikwindownameKF@);igprintfKGH(KGNs,KHOicpeKI@pKIBihmousegxKID,KIKicpeKILpKINihmousegyKJ@);AB;}KLEACikuserresizeKME:{iqPUserResizeEventKNL*KOMicpeKON=L@A(L@CiqPUserResizeEventL@D*LAE)ilPrologEventLAH;igprintfLCA(LCGs);DB(LEGicpeLEHpLEJigwindowLELBMLFCieNULLLFF)igprintfLGJ(LH@s);DCigprintfLJI(LJOs,LKDicpeLKEpLKGigwindowLKIpLKOikwindownameLLA);igprintfLMI(LMOs,LOIicpeLOJpLOLifwidthLON,M@CicpeM@DpM@FigheightM@H);AB;}MBLACiouserrepositionMCL:{iuPUserRepositionEventMEG*MFLicpeMFM=MG@(MGBiuPUserRepositionEventMGC*MHH)ilPrologEventMHK;igprintfMJD(MJJs);DB(MLNicpeMLOpMMAigwindowMMCBMMMJieNULLMMM)igprintfMOA(MOGs);DCigprintfNB@(NBFs,NBKicpeNBLpNBNigwindowNC@pNCFikwindownameNCH);igprintfNE@(NEFs,NGDicpeNGEpNGGiileftedgeNGI,NHAicpeNHBpNHDihtopedgeNHF);AB;}NJKACimscrapchangedNKK:{igprintfNMO(NNEs);AB;}OAEAE:AB;}ODB}ODD
TraceEvent"24517 N {ciename38[3<CM];AM(4=ifevent4>p53ietype55){ACiiKeyPress68:igstrcpy72(78iename79,7=s);AB;ACikKeyRelease9?:igstrcpy:;(;1iename;2,;6s);AB;ACilButtonPress=::igstrcpy>7(>=iename>>,?2s);AB;ACinButtonReleaseAAG:igstrcpyABF(ABLienameABM,ACAs);AB;ACimMotionNotifyAEH:igstrcpyAFF(AFLienameAFM,AGAs);AB;ACilEnterNotifyAIG:igstrcpyAJD(AJJienameAJK,AJOs);AB;ACilLeaveNotifyAMD:igstrcpyANA(ANGienameANH,ANLs);AB;ACihFocusInBAA:igstrcpyBAJ(BB@ienameBBA,BBEs);AB;ACiiFocusOutBDF:igstrcpyBE@(BEFienameBEG,BEKs);AB;ACimKeymapNotifyBGM:igstrcpyBHK(BIAienameBIB,BIFs);AB;ACigExposeBKL:igstrcpyBLD(BLJienameBLK,BLOs);AB;ACioGraphicsExposeBNO:igstrcpyBOO(C@EienameC@F,C@Js);AB;ACiiNoExposeCCB:igstrcpyCCL(CDBienameCDC,CDGs);AB;ACiqCirculateRequestCFI:igstrcpyCGK(CHAienameCHB,CHFs);AB;ACiqConfigureRequestCK@:igstrcpyCLB(CLHienameCLI,CLMs);AB;ACikMapRequestCOG:igstrcpyD@C(D@IienameD@J,D@Ns);AB;ACinResizeRequestDCB:igstrcpyDDA(DDGienameDDH,DDLs);AB;ACipCirculateNotifyDGC:igstrcpyDHD(DHJienameDHK,DHOs);AB;ACipConfigureNotifyDKH:igstrcpyDLI(DLOienameDM@,DMDs);AB;ACimCreateNotifyDOM:igstrcpyE@K(EAAienameEAB,EAFs);AB;ACinDestroyNotifyECL:igstrcpyEDK(EEAienameEEB,EEFs);AB;ACinGravityNotifyEGM:igstrcpyEHL(EIBienameEIC,EIGs);AB;ACijMapNotifyEKN:igstrcpyELI(ELOienameEM@,EMDs);AB;ACinMappingNotifyEOG:igstrcpyF@F(F@LienameF@M,FAAs);AB;ACioReparentNotifyFCH:igstrcpyFDH(FDNienameFDO,FECs);AB;ACilUnmapNotifyFGK:igstrcpyFHH(FHNienameFHO,FICs);AB;ACiqVisibilityNotifyFKH:igstrcpyFLJ(FM@ienameFMA,FMEs);AB;ACioColormapNotifyFOO:igstrcpyG@O(GAEienameGAF,GAJs);AB;ACinClientMessageGDB:igstrcpyGEA(GEGienameGEH,GELs);AB;ACioPropertyNotifyGHC:igstrcpyGIC(GIIienameGIJ,GINs);AB;ACioSelectionClearGLF:igstrcpyGMF(GMLienameGMM,GNAs);AB;ACipSelectionNotifyH@I:igstrcpyHAJ(HB@ienameHBA,HBEs);AB;ACiqSelectionRequestHDN:igstrcpyHF@(HFFienameHFG,HFKs);AB;AE:igstrcpyHII(HIOienameHJ@,HJDs);AL;}HL@igprintfHLH(HLNs,HNOienameHO@,HODifeventHOEpHOJiexanyHOL.igwindowI@A);DB(IAC(IAD(IAEijXAnyEventIAF*IB@)ifeventIBB)pIBHiksend_eventIBJ)igprintfID@(IDFs);igprintfIEM(IFCs);}IFK
eventLoop"26943 N {igXEvent12ifevent1:;DB(29ilPrologEvent2:p35ietype37BN3<ihunknown3?){imLastPrologEv52=5?iiPrologEv61;ilPrologEvent73p7>ietype80=85ihunknown87;}94ioXtAppNextEvent9;(:9ilapp_context::,;5&;7ifevent;8);DB(=9ilXEventTrace=:)ikTraceEvent>7(?1&?2ifevent?3);iqTrackButtonStateA@G(AAG&AAHifeventAAI);ipXtDispatchEventABE(ACD&ACEifeventACF);DB(ALGifeventALH.ietypeALNBMAMCinClientMessageAMF)intextEditStateANM=AOKifFALSEAOM;AM(BKFilPrologEventBKGpBLBietypeBLD){ACikmenuselectBME:ACinusermousedownC@C:intextEditStateCC@=CCNifFALSECD@;}CDK}CDM
BindPEventPrimitives"27796 N {imLastPrologEv2?.ietype3<=41ihunknown43;iiPrologEv4?.ietype58=5=ihunknown5?;irBNRPBindPrimitive6;(7<s,89ijuserevent8:);imusereventsym9:[:6(:7n)ihunknown:=]=;6itBNRP_makePermSymbol;8(<;s);imusereventsym=;[>7(>8n)ikuserupidle>>]=?:itBNRP_makePermSymbol?<(A@Os);imusereventsymABB[ABN(ABOn)imuserdownidleACE]=ADCitBNRP_makePermSymbolADE(AEHs);imusereventsymAFM[AGI(AGJn)ihuserkeyAH@]=AHIitBNRP_makePermSymbolAHK(AINs);imusereventsymAJN[AKJ(AKKn)imuseractivateALA]=ALOitBNRP_makePermSymbolAMA(ANDs);imusereventsymAOI[B@E(B@Fn)iouserdeactivateB@L]=BALitBNRP_makePermSymbolBAN(BCAs);imusereventsymBDH[BED(BEEn)ikmenuselectBEK]=BFGitBNRP_makePermSymbolBFI(BGLs);imusereventsymBHO[BIK(BILn)ilusermouseupBJB]=BJOitBNRP_makePermSymbolBKA(BLDs);imusereventsymBMH[BND(BNEn)inusermousedownBNK]=BOJitBNRP_makePermSymbolBOL(C@Os);imusereventsymCBE[CCA(CCBn)ikuserupdateCCH]=CDDitBNRP_makePermSymbolCDF(CEIs);imusereventsymCFL[CGH(CGIn)iiusergrowCGO]=CHIitBNRP_makePermSymbolCHK(CINs);imusereventsymCJO[CKK(CKLn)iiuserzoomCLB]=CLLitBNRP_makePermSymbolCLN(CNAs);imusereventsymCOB[CON(COOn)iiuserdragD@E]=D@OitBNRP_makePermSymbolDAA(DBDs);imusereventsymDCE[DDA(DDBn)ijusercloseDDH]=DECitBNRP_makePermSymbolDEE(DFHs);imusereventsymDGJ[DHF(DHGn)ikuserresizeDHM]=DIIitBNRP_makePermSymbolDIK(DJNs);imusereventsymDLA[DLM(DLNn)iouserrepositionDMD]=DNDitBNRP_makePermSymbolDNF(DOIs);imusereventsymEA@[EAL(EAMn)imscrapchangedEBC]=ECAitBNRP_makePermSymbolECC(EDFs);irBNRPBindPrimitiveEEL(EFMs,EGNinlasteventdataEGO);{c*FACiisym_nameFAD;cigsymbolFBD[FBJCM];igKeySymFCDidkeyFCK;AH(FFAidkeyFFB=FFFihXK_LeftFFH;idkeyFGABOFGEihXK_DownFGI;idkeyFHBCEFHE)DB(FHN(FHOiisym_nameFI@=FIHipXKeysymToStringFII(FJHidkeyFJI))BNFJOieNULLFKB){igstrcpyFKM(FLCigsymbolFLD,FLJiisym_nameFLK);igsymbolFMI[FMOCN]=FNCihtolowerFNE(FNLigsymbolFNM[FOCCN]);inXRebindKeysymGFA(GFNihdisplayGFO,GGFidkeyGGG,GGJieNULLGGK,GGOCN,GHA(GHBENc*GIA)igsymbolGIC,GIIigstrlenGIJ(GJ@igsymbolGJA));}GJNAH(GLNidkeyGLO=GMCifXK_F1GME;idkeyGMLBOGN@igXK_F35GND;idkeyGNLCEGNO)DB(GOH(GOIiisym_nameGOJ=H@BipXKeysymToStringH@C(HABidkeyHAC))BNHAIieNULLHAL){igstrcpyHBG(HBMigsymbolHBN,HCDiisym_nameHCE);igsymbolHDC[HDICN]=HDMihtolowerHDO(HEFigsymbolHEG[HEMCN]);inXRebindKeysymHLG(HMDihdisplayHME,HMLidkeyHMM,HN@ieNULLHNA,HNECN,HNG(HNHENc*HOG)igsymbolHOI,HOOigstrlenI@@(I@FigsymbolI@G));}IADinXRebindKeysymIBL(ICIihdisplayICJ,IDAilXK_KP_EnterIDB,IDMieNULLIDN,IEBCN,IED(IEEENc*IFD)s,IFMCM);}IGE}IGG
CheckForBoundKey"31106 N {nibi32;AH(3;ibi3<=3>CN;ibi43<45CM;ibi4;CE4<){DB(61igstrcmp62(68ihpstring69,70imkey_bindings72[7>ibi7?][81CN])BM86CN){ALimkey_bindings><[?8ibi?9][?;CM];}A@B}A@LALihpstringAAI;}ABB
StringToKeysym"31406 N {c*27inbound_key_str28;inbound_key_str3:=48iqCheckForBoundKey4:(5:idstr5;);ALipXStringToKeysym6;(7:inbound_key_str7;);}8=